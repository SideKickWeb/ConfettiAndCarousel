import{_ as h,r as u,g as p,c as l,a as e,p as v,y as n,z as c,C as k,D as w,n as U,t as a,v as _,Z as T,o as d}from"./DPqVHIb4.js";import{u as P}from"./BY4aLptK.js";const L={class:"container mx-auto p-6"},S={key:0,class:"text-center py-10"},V={key:1,class:"bg-white rounded-lg shadow-md p-6"},q={class:"mb-4"},M={class:"mb-4"},A={class:"mb-4"},B={class:"mb-4"},j={class:"mb-4"},C={class:"mb-4"},D={class:"mb-6"},H={class:"inline-flex items-center"},E={class:"mb-6"},F={class:"border rounded-lg overflow-hidden"},R={class:"relative h-48 bg-gray-200"},z=["src"],I={class:"bg-white bg-opacity-80 p-4 rounded-lg shadow-md max-w-md"},N={class:"text-xl font-bold"},O={class:"mt-1"},$={class:"mt-2 bg-brand text-white px-4 py-2 rounded-md"},Z={class:"flex justify-end"},G=["disabled"],J={key:2,class:"mt-4 p-4 bg-green-100 text-green-800 rounded-md"},K={key:3,class:"mt-4 p-4 bg-red-100 text-red-800 rounded-md"},Q={__name:"hero-settings",setup(W){const g=P(),f=u(!0),m=u(!1),b=u(""),r=u(""),s=u({id:null,imageUrl:"",title:"",description:"",buttonText:"",buttonLink:"",textPosition:"left",active:!0});p(async()=>{try{const o=await $fetch("/api/hero");o&&(s.value={id:o.id,imageUrl:o.imageUrl,title:o.title,description:o.description,buttonText:o.buttonText,buttonLink:o.buttonLink||"/products",textPosition:o.textPosition||"left",active:o.active!==!1})}catch(o){console.error("Error loading hero settings:",o),r.value="Failed to load hero settings"}finally{f.value=!1}});async function x(){m.value=!0,b.value="",r.value="";try{const o={...s.value,isActive:s.value.active},t=await $fetch("/api/admin/hero-settings",{method:"POST",body:o});t.success?(b.value="Hero settings saved successfully!",s.value.id=t.data.id):r.value=t.error||"Failed to save hero settings"}catch(o){console.error("Error saving hero settings:",o),r.value="Failed to save hero settings"}finally{m.value=!1}}const y=()=>{(!g.isAuthenticated||!g.isAdmin)&&T("/login")};return p(async()=>{await g.fetchUser(),y()}),(o,t)=>(d(),l("div",L,[t[19]||(t[19]=e("h1",{class:"text-3xl font-bold mb-6"},"Hero Settings",-1)),f.value?(d(),l("div",S,t[7]||(t[7]=[e("div",{class:"loader"},null,-1),e("p",{class:"mt-4"},"Loading hero settings...",-1)]))):(d(),l("div",V,[e("form",{onSubmit:_(x,["prevent"])},[e("div",q,[t[8]||(t[8]=e("label",{for:"imageUrl",class:"block text-sm font-medium text-gray-700"},"Hero Image URL",-1)),n(e("input",{id:"imageUrl","onUpdate:modelValue":t[0]||(t[0]=i=>s.value.imageUrl=i),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand focus:ring focus:ring-brand focus:ring-opacity-50",required:""},null,512),[[c,s.value.imageUrl]]),t[9]||(t[9]=e("p",{class:"text-sm text-gray-500 mt-1"},"Enter the URL for the hero image (ideally 1920x1080px)",-1))]),e("div",M,[t[10]||(t[10]=e("label",{for:"title",class:"block text-sm font-medium text-gray-700"},"Title",-1)),n(e("input",{id:"title","onUpdate:modelValue":t[1]||(t[1]=i=>s.value.title=i),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand focus:ring focus:ring-brand focus:ring-opacity-50",required:""},null,512),[[c,s.value.title]])]),e("div",A,[t[11]||(t[11]=e("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description",-1)),n(e("textarea",{id:"description","onUpdate:modelValue":t[2]||(t[2]=i=>s.value.description=i),rows:"3",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand focus:ring focus:ring-brand focus:ring-opacity-50",required:""},null,512),[[c,s.value.description]])]),e("div",B,[t[12]||(t[12]=e("label",{for:"buttonText",class:"block text-sm font-medium text-gray-700"},"Button Text",-1)),n(e("input",{id:"buttonText","onUpdate:modelValue":t[3]||(t[3]=i=>s.value.buttonText=i),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand focus:ring focus:ring-brand focus:ring-opacity-50",required:""},null,512),[[c,s.value.buttonText]])]),e("div",j,[t[13]||(t[13]=e("label",{for:"buttonLink",class:"block text-sm font-medium text-gray-700"},"Button Link",-1)),n(e("input",{id:"buttonLink","onUpdate:modelValue":t[4]||(t[4]=i=>s.value.buttonLink=i),type:"text",class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand focus:ring focus:ring-brand focus:ring-opacity-50",required:""},null,512),[[c,s.value.buttonLink]])]),e("div",C,[t[15]||(t[15]=e("label",{for:"textPosition",class:"block text-sm font-medium text-gray-700"},"Text Position",-1)),n(e("select",{id:"textPosition","onUpdate:modelValue":t[5]||(t[5]=i=>s.value.textPosition=i),class:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-brand focus:ring focus:ring-brand focus:ring-opacity-50",required:""},t[14]||(t[14]=[e("option",{value:"left"},"Left",-1),e("option",{value:"center"},"Center",-1),e("option",{value:"right"},"Right",-1)]),512),[[k,s.value.textPosition]])]),e("div",D,[e("label",H,[n(e("input",{type:"checkbox","onUpdate:modelValue":t[6]||(t[6]=i=>s.value.active=i),class:"rounded border-gray-300 text-brand shadow-sm focus:border-brand focus:ring focus:ring-brand focus:ring-opacity-50"},null,512),[[w,s.value.active]]),t[16]||(t[16]=e("span",{class:"ml-2"},"Active",-1))]),t[17]||(t[17]=e("p",{class:"text-sm text-gray-500 mt-1"},"Only one hero setting can be active at a time",-1))]),e("div",E,[t[18]||(t[18]=e("h3",{class:"text-lg font-medium mb-3"},"Preview",-1)),e("div",F,[e("div",R,[s.value.imageUrl?(d(),l("img",{key:0,src:s.value.imageUrl,class:"w-full h-full object-cover"},null,8,z)):v("",!0),e("div",{class:U(["absolute inset-0 p-6 flex items-center",{"justify-start":s.value.textPosition==="left","justify-center":s.value.textPosition==="center","justify-end":s.value.textPosition==="right"}])},[e("div",I,[e("h2",N,a(s.value.title||"Hero Title"),1),e("p",O,a(s.value.description||"Hero description text"),1),e("button",$,a(s.value.buttonText||"Button Text"),1)])],2)])])]),e("div",Z,[e("button",{type:"submit",class:"px-6 py-2 text-white bg-brand rounded-md hover:bg-brand-dark focus:outline-none focus:ring-2 focus:ring-brand focus:ring-opacity-50",disabled:m.value},a(m.value?"Saving...":"Save Settings"),9,G)])],32)])),b.value?(d(),l("div",J,a(b.value),1)):v("",!0),r.value?(d(),l("div",K,a(r.value),1)):v("",!0)]))}},tt=h(Q,[["__scopeId","data-v-a6798a82"]]);export{tt as default};
