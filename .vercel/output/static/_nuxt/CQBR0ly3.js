import{a as zn,g as Zn}from"./gnU0ypJ3.js";const Qn={},ei=Object.freeze(Object.defineProperty({__proto__:null,default:Qn},Symbol.toStringTag,{value:"Module"})),le=zn(ei);var he={},Ae={exports:{}},Pe={},ye={},ft;function ri(){if(ft)return ye;ft=1,ye.byteLength=s,ye.toByteArray=x,ye.fromByteArray=y;for(var o=[],c=[],a=typeof Uint8Array<"u"?Uint8Array:Array,u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,m=u.length;f<m;++f)o[f]=u[f],c[u.charCodeAt(f)]=f;c[45]=62,c[95]=63;function l(g){var S=g.length;if(S%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var R=g.indexOf("=");R===-1&&(R=S);var O=R===S?0:4-R%4;return[R,O]}function s(g){var S=l(g),R=S[0],O=S[1];return(R+O)*3/4-O}function d(g,S,R){return(S+R)*3/4-R}function x(g){var S,R=l(g),O=R[0],E=R[1],v=new a(d(g,O,E)),w=0,$=E>0?O-4:O,q;for(q=0;q<$;q+=4)S=c[g.charCodeAt(q)]<<18|c[g.charCodeAt(q+1)]<<12|c[g.charCodeAt(q+2)]<<6|c[g.charCodeAt(q+3)],v[w++]=S>>16&255,v[w++]=S>>8&255,v[w++]=S&255;return E===2&&(S=c[g.charCodeAt(q)]<<2|c[g.charCodeAt(q+1)]>>4,v[w++]=S&255),E===1&&(S=c[g.charCodeAt(q)]<<10|c[g.charCodeAt(q+1)]<<4|c[g.charCodeAt(q+2)]>>2,v[w++]=S>>8&255,v[w++]=S&255),v}function n(g){return o[g>>18&63]+o[g>>12&63]+o[g>>6&63]+o[g&63]}function h(g,S,R){for(var O,E=[],v=S;v<R;v+=3)O=(g[v]<<16&16711680)+(g[v+1]<<8&65280)+(g[v+2]&255),E.push(n(O));return E.join("")}function y(g){for(var S,R=g.length,O=R%3,E=[],v=16383,w=0,$=R-O;w<$;w+=v)E.push(h(g,w,w+v>$?$:w+v));return O===1?(S=g[R-1],E.push(o[S>>2]+o[S<<4&63]+"==")):O===2&&(S=(g[R-2]<<8)+g[R-1],E.push(o[S>>10]+o[S>>4&63]+o[S<<2&63]+"=")),E.join("")}return ye}var ve={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var ct;function ti(){return ct||(ct=1,ve.read=function(o,c,a,u,f){var m,l,s=f*8-u-1,d=(1<<s)-1,x=d>>1,n=-7,h=a?f-1:0,y=a?-1:1,g=o[c+h];for(h+=y,m=g&(1<<-n)-1,g>>=-n,n+=s;n>0;m=m*256+o[c+h],h+=y,n-=8);for(l=m&(1<<-n)-1,m>>=-n,n+=u;n>0;l=l*256+o[c+h],h+=y,n-=8);if(m===0)m=1-x;else{if(m===d)return l?NaN:(g?-1:1)*(1/0);l=l+Math.pow(2,u),m=m-x}return(g?-1:1)*l*Math.pow(2,m-u)},ve.write=function(o,c,a,u,f,m){var l,s,d,x=m*8-f-1,n=(1<<x)-1,h=n>>1,y=f===23?Math.pow(2,-24)-Math.pow(2,-77):0,g=u?0:m-1,S=u?1:-1,R=c<0||c===0&&1/c<0?1:0;for(c=Math.abs(c),isNaN(c)||c===1/0?(s=isNaN(c)?1:0,l=n):(l=Math.floor(Math.log(c)/Math.LN2),c*(d=Math.pow(2,-l))<1&&(l--,d*=2),l+h>=1?c+=y/d:c+=y*Math.pow(2,1-h),c*d>=2&&(l++,d/=2),l+h>=n?(s=0,l=n):l+h>=1?(s=(c*d-1)*Math.pow(2,f),l=l+h):(s=c*Math.pow(2,h-1)*Math.pow(2,f),l=0));f>=8;o[a+g]=s&255,g+=S,s/=256,f-=8);for(l=l<<f|s,x+=f;x>0;o[a+g]=l&255,g+=S,l/=256,x-=8);o[a+g-S]|=R*128}),ve}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */var lt;function xe(){return lt||(lt=1,function(o){const c=ri(),a=ti(),u=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;o.Buffer=s,o.SlowBuffer=v,o.INSPECT_MAX_BYTES=50;const f=2147483647;o.kMaxLength=f,s.TYPED_ARRAY_SUPPORT=m(),!s.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function m(){try{const t=new Uint8Array(1),e={foo:function(){return 42}};return Object.setPrototypeOf(e,Uint8Array.prototype),Object.setPrototypeOf(t,e),t.foo()===42}catch{return!1}}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}});function l(t){if(t>f)throw new RangeError('The value "'+t+'" is invalid for option "size"');const e=new Uint8Array(t);return Object.setPrototypeOf(e,s.prototype),e}function s(t,e,r){if(typeof t=="number"){if(typeof e=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return h(t)}return d(t,e,r)}s.poolSize=8192;function d(t,e,r){if(typeof t=="string")return y(t,e);if(ArrayBuffer.isView(t))return S(t);if(t==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t);if(ce(t,ArrayBuffer)||t&&ce(t.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ce(t,SharedArrayBuffer)||t&&ce(t.buffer,SharedArrayBuffer)))return R(t,e,r);if(typeof t=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const i=t.valueOf&&t.valueOf();if(i!=null&&i!==t)return s.from(i,e,r);const p=O(t);if(p)return p;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof t[Symbol.toPrimitive]=="function")return s.from(t[Symbol.toPrimitive]("string"),e,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof t)}s.from=function(t,e,r){return d(t,e,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function x(t){if(typeof t!="number")throw new TypeError('"size" argument must be of type number');if(t<0)throw new RangeError('The value "'+t+'" is invalid for option "size"')}function n(t,e,r){return x(t),t<=0?l(t):e!==void 0?typeof r=="string"?l(t).fill(e,r):l(t).fill(e):l(t)}s.alloc=function(t,e,r){return n(t,e,r)};function h(t){return x(t),l(t<0?0:E(t)|0)}s.allocUnsafe=function(t){return h(t)},s.allocUnsafeSlow=function(t){return h(t)};function y(t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!s.isEncoding(e))throw new TypeError("Unknown encoding: "+e);const r=w(t,e)|0;let i=l(r);const p=i.write(t,e);return p!==r&&(i=i.slice(0,p)),i}function g(t){const e=t.length<0?0:E(t.length)|0,r=l(e);for(let i=0;i<e;i+=1)r[i]=t[i]&255;return r}function S(t){if(ce(t,Uint8Array)){const e=new Uint8Array(t);return R(e.buffer,e.byteOffset,e.byteLength)}return g(t)}function R(t,e,r){if(e<0||t.byteLength<e)throw new RangeError('"offset" is outside of buffer bounds');if(t.byteLength<e+(r||0))throw new RangeError('"length" is outside of buffer bounds');let i;return e===void 0&&r===void 0?i=new Uint8Array(t):r===void 0?i=new Uint8Array(t,e):i=new Uint8Array(t,e,r),Object.setPrototypeOf(i,s.prototype),i}function O(t){if(s.isBuffer(t)){const e=E(t.length)|0,r=l(e);return r.length===0||t.copy(r,0,0,e),r}if(t.length!==void 0)return typeof t.length!="number"||Fe(t.length)?l(0):g(t);if(t.type==="Buffer"&&Array.isArray(t.data))return g(t.data)}function E(t){if(t>=f)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+f.toString(16)+" bytes");return t|0}function v(t){return+t!=t&&(t=0),s.alloc(+t)}s.isBuffer=function(e){return e!=null&&e._isBuffer===!0&&e!==s.prototype},s.compare=function(e,r){if(ce(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),ce(r,Uint8Array)&&(r=s.from(r,r.offset,r.byteLength)),!s.isBuffer(e)||!s.isBuffer(r))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===r)return 0;let i=e.length,p=r.length;for(let I=0,B=Math.min(i,p);I<B;++I)if(e[I]!==r[I]){i=e[I],p=r[I];break}return i<p?-1:p<i?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,r){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(e.length===0)return s.alloc(0);let i;if(r===void 0)for(r=0,i=0;i<e.length;++i)r+=e[i].length;const p=s.allocUnsafe(r);let I=0;for(i=0;i<e.length;++i){let B=e[i];if(ce(B,Uint8Array))I+B.length>p.length?(s.isBuffer(B)||(B=s.from(B)),B.copy(p,I)):Uint8Array.prototype.set.call(p,B,I);else if(s.isBuffer(B))B.copy(p,I);else throw new TypeError('"list" argument must be an Array of Buffers');I+=B.length}return p};function w(t,e){if(s.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||ce(t,ArrayBuffer))return t.byteLength;if(typeof t!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);const r=t.length,i=arguments.length>2&&arguments[2]===!0;if(!i&&r===0)return 0;let p=!1;for(;;)switch(e){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return oe(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return r*2;case"hex":return r>>>1;case"base64":return ut(t).length;default:if(p)return i?-1:oe(t).length;e=(""+e).toLowerCase(),p=!0}}s.byteLength=w;function $(t,e,r){let i=!1;if((e===void 0||e<0)&&(e=0),e>this.length||((r===void 0||r>this.length)&&(r=this.length),r<=0)||(r>>>=0,e>>>=0,r<=e))return"";for(t||(t="utf8");;)switch(t){case"hex":return U(this,e,r);case"utf8":case"utf-8":return T(this,e,r);case"ascii":return P(this,e,r);case"latin1":case"binary":return j(this,e,r);case"base64":return M(this,e,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,e,r);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),i=!0}}s.prototype._isBuffer=!0;function q(t,e,r){const i=t[e];t[e]=t[r],t[r]=i}s.prototype.swap16=function(){const e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let r=0;r<e;r+=2)q(this,r,r+1);return this},s.prototype.swap32=function(){const e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let r=0;r<e;r+=4)q(this,r,r+3),q(this,r+1,r+2);return this},s.prototype.swap64=function(){const e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let r=0;r<e;r+=8)q(this,r,r+7),q(this,r+1,r+6),q(this,r+2,r+5),q(this,r+3,r+4);return this},s.prototype.toString=function(){const e=this.length;return e===0?"":arguments.length===0?T(this,0,e):$.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e?!0:s.compare(this,e)===0},s.prototype.inspect=function(){let e="";const r=o.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},u&&(s.prototype[u]=s.prototype.inspect),s.prototype.compare=function(e,r,i,p,I){if(ce(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(r===void 0&&(r=0),i===void 0&&(i=e?e.length:0),p===void 0&&(p=0),I===void 0&&(I=this.length),r<0||i>e.length||p<0||I>this.length)throw new RangeError("out of range index");if(p>=I&&r>=i)return 0;if(p>=I)return-1;if(r>=i)return 1;if(r>>>=0,i>>>=0,p>>>=0,I>>>=0,this===e)return 0;let B=I-p,W=i-r;const re=Math.min(B,W),Q=this.slice(p,I),te=e.slice(r,i);for(let z=0;z<re;++z)if(Q[z]!==te[z]){B=Q[z],W=te[z];break}return B<W?-1:W<B?1:0};function N(t,e,r,i,p){if(t.length===0)return-1;if(typeof r=="string"?(i=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),r=+r,Fe(r)&&(r=p?0:t.length-1),r<0&&(r=t.length+r),r>=t.length){if(p)return-1;r=t.length-1}else if(r<0)if(p)r=0;else return-1;if(typeof e=="string"&&(e=s.from(e,i)),s.isBuffer(e))return e.length===0?-1:C(t,e,r,i,p);if(typeof e=="number")return e=e&255,typeof Uint8Array.prototype.indexOf=="function"?p?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):C(t,[e],r,i,p);throw new TypeError("val must be string, number or Buffer")}function C(t,e,r,i,p){let I=1,B=t.length,W=e.length;if(i!==void 0&&(i=String(i).toLowerCase(),i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le")){if(t.length<2||e.length<2)return-1;I=2,B/=2,W/=2,r/=2}function re(te,z){return I===1?te[z]:te.readUInt16BE(z*I)}let Q;if(p){let te=-1;for(Q=r;Q<B;Q++)if(re(t,Q)===re(e,te===-1?0:Q-te)){if(te===-1&&(te=Q),Q-te+1===W)return te*I}else te!==-1&&(Q-=Q-te),te=-1}else for(r+W>B&&(r=B-W),Q=r;Q>=0;Q--){let te=!0;for(let z=0;z<W;z++)if(re(t,Q+z)!==re(e,z)){te=!1;break}if(te)return Q}return-1}s.prototype.includes=function(e,r,i){return this.indexOf(e,r,i)!==-1},s.prototype.indexOf=function(e,r,i){return N(this,e,r,i,!0)},s.prototype.lastIndexOf=function(e,r,i){return N(this,e,r,i,!1)};function L(t,e,r,i){r=Number(r)||0;const p=t.length-r;i?(i=Number(i),i>p&&(i=p)):i=p;const I=e.length;i>I/2&&(i=I/2);let B;for(B=0;B<i;++B){const W=parseInt(e.substr(B*2,2),16);if(Fe(W))return B;t[r+B]=W}return B}function D(t,e,r,i){return Re(oe(e,t.length-r),t,r,i)}function K(t,e,r,i){return Re(Kn(e),t,r,i)}function J(t,e,r,i){return Re(ut(e),t,r,i)}function F(t,e,r,i){return Re(Jn(e,t.length-r),t,r,i)}s.prototype.write=function(e,r,i,p){if(r===void 0)p="utf8",i=this.length,r=0;else if(i===void 0&&typeof r=="string")p=r,i=this.length,r=0;else if(isFinite(r))r=r>>>0,isFinite(i)?(i=i>>>0,p===void 0&&(p="utf8")):(p=i,i=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const I=this.length-r;if((i===void 0||i>I)&&(i=I),e.length>0&&(i<0||r<0)||r>this.length)throw new RangeError("Attempt to write outside buffer bounds");p||(p="utf8");let B=!1;for(;;)switch(p){case"hex":return L(this,e,r,i);case"utf8":case"utf-8":return D(this,e,r,i);case"ascii":case"latin1":case"binary":return K(this,e,r,i);case"base64":return J(this,e,r,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,r,i);default:if(B)throw new TypeError("Unknown encoding: "+p);p=(""+p).toLowerCase(),B=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function M(t,e,r){return e===0&&r===t.length?c.fromByteArray(t):c.fromByteArray(t.slice(e,r))}function T(t,e,r){r=Math.min(t.length,r);const i=[];let p=e;for(;p<r;){const I=t[p];let B=null,W=I>239?4:I>223?3:I>191?2:1;if(p+W<=r){let re,Q,te,z;switch(W){case 1:I<128&&(B=I);break;case 2:re=t[p+1],(re&192)===128&&(z=(I&31)<<6|re&63,z>127&&(B=z));break;case 3:re=t[p+1],Q=t[p+2],(re&192)===128&&(Q&192)===128&&(z=(I&15)<<12|(re&63)<<6|Q&63,z>2047&&(z<55296||z>57343)&&(B=z));break;case 4:re=t[p+1],Q=t[p+2],te=t[p+3],(re&192)===128&&(Q&192)===128&&(te&192)===128&&(z=(I&15)<<18|(re&63)<<12|(Q&63)<<6|te&63,z>65535&&z<1114112&&(B=z))}}B===null?(B=65533,W=1):B>65535&&(B-=65536,i.push(B>>>10&1023|55296),B=56320|B&1023),i.push(B),p+=W}return _(i)}const A=4096;function _(t){const e=t.length;if(e<=A)return String.fromCharCode.apply(String,t);let r="",i=0;for(;i<e;)r+=String.fromCharCode.apply(String,t.slice(i,i+=A));return r}function P(t,e,r){let i="";r=Math.min(t.length,r);for(let p=e;p<r;++p)i+=String.fromCharCode(t[p]&127);return i}function j(t,e,r){let i="";r=Math.min(t.length,r);for(let p=e;p<r;++p)i+=String.fromCharCode(t[p]);return i}function U(t,e,r){const i=t.length;(!e||e<0)&&(e=0),(!r||r<0||r>i)&&(r=i);let p="";for(let I=e;I<r;++I)p+=Wn[t[I]];return p}function X(t,e,r){const i=t.slice(e,r);let p="";for(let I=0;I<i.length-1;I+=2)p+=String.fromCharCode(i[I]+i[I+1]*256);return p}s.prototype.slice=function(e,r){const i=this.length;e=~~e,r=r===void 0?i:~~r,e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),r<0?(r+=i,r<0&&(r=0)):r>i&&(r=i),r<e&&(r=e);const p=this.subarray(e,r);return Object.setPrototypeOf(p,s.prototype),p};function V(t,e,r){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>r)throw new RangeError("Trying to access beyond buffer length")}s.prototype.readUintLE=s.prototype.readUIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||V(e,r,this.length);let p=this[e],I=1,B=0;for(;++B<r&&(I*=256);)p+=this[e+B]*I;return p},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||V(e,r,this.length);let p=this[e+--r],I=1;for(;r>0&&(I*=256);)p+=this[e+--r]*I;return p},s.prototype.readUint8=s.prototype.readUInt8=function(e,r){return e=e>>>0,r||V(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,r){return e=e>>>0,r||V(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,r){return e=e>>>0,r||V(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,r){return e=e>>>0,r||V(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,r){return e=e>>>0,r||V(e,4,this.length),this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=de(function(e){e=e>>>0,k(e,"offset");const r=this[e],i=this[e+7];(r===void 0||i===void 0)&&H(e,this.length-8);const p=r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24,I=this[++e]+this[++e]*2**8+this[++e]*2**16+i*2**24;return BigInt(p)+(BigInt(I)<<BigInt(32))}),s.prototype.readBigUInt64BE=de(function(e){e=e>>>0,k(e,"offset");const r=this[e],i=this[e+7];(r===void 0||i===void 0)&&H(e,this.length-8);const p=r*2**24+this[++e]*2**16+this[++e]*2**8+this[++e],I=this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i;return(BigInt(p)<<BigInt(32))+BigInt(I)}),s.prototype.readIntLE=function(e,r,i){e=e>>>0,r=r>>>0,i||V(e,r,this.length);let p=this[e],I=1,B=0;for(;++B<r&&(I*=256);)p+=this[e+B]*I;return I*=128,p>=I&&(p-=Math.pow(2,8*r)),p},s.prototype.readIntBE=function(e,r,i){e=e>>>0,r=r>>>0,i||V(e,r,this.length);let p=r,I=1,B=this[e+--p];for(;p>0&&(I*=256);)B+=this[e+--p]*I;return I*=128,B>=I&&(B-=Math.pow(2,8*r)),B},s.prototype.readInt8=function(e,r){return e=e>>>0,r||V(e,1,this.length),this[e]&128?(255-this[e]+1)*-1:this[e]},s.prototype.readInt16LE=function(e,r){e=e>>>0,r||V(e,2,this.length);const i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i},s.prototype.readInt16BE=function(e,r){e=e>>>0,r||V(e,2,this.length);const i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i},s.prototype.readInt32LE=function(e,r){return e=e>>>0,r||V(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,r){return e=e>>>0,r||V(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=de(function(e){e=e>>>0,k(e,"offset");const r=this[e],i=this[e+7];(r===void 0||i===void 0)&&H(e,this.length-8);const p=this[e+4]+this[e+5]*2**8+this[e+6]*2**16+(i<<24);return(BigInt(p)<<BigInt(32))+BigInt(r+this[++e]*2**8+this[++e]*2**16+this[++e]*2**24)}),s.prototype.readBigInt64BE=de(function(e){e=e>>>0,k(e,"offset");const r=this[e],i=this[e+7];(r===void 0||i===void 0)&&H(e,this.length-8);const p=(r<<24)+this[++e]*2**16+this[++e]*2**8+this[++e];return(BigInt(p)<<BigInt(32))+BigInt(this[++e]*2**24+this[++e]*2**16+this[++e]*2**8+i)}),s.prototype.readFloatLE=function(e,r){return e=e>>>0,r||V(e,4,this.length),a.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,r){return e=e>>>0,r||V(e,4,this.length),a.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,r){return e=e>>>0,r||V(e,8,this.length),a.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,r){return e=e>>>0,r||V(e,8,this.length),a.read(this,e,!1,52,8)};function G(t,e,r,i,p,I){if(!s.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>p||e<I)throw new RangeError('"value" argument is out of bounds');if(r+i>t.length)throw new RangeError("Index out of range")}s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,r,i,p){if(e=+e,r=r>>>0,i=i>>>0,!p){const W=Math.pow(2,8*i)-1;G(this,e,r,i,W,0)}let I=1,B=0;for(this[r]=e&255;++B<i&&(I*=256);)this[r+B]=e/I&255;return r+i},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,r,i,p){if(e=+e,r=r>>>0,i=i>>>0,!p){const W=Math.pow(2,8*i)-1;G(this,e,r,i,W,0)}let I=i-1,B=1;for(this[r+I]=e&255;--I>=0&&(B*=256);)this[r+I]=e/B&255;return r+i},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,1,255,0),this[r]=e&255,r+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,2,65535,0),this[r]=e&255,this[r+1]=e>>>8,r+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,2,65535,0),this[r]=e>>>8,this[r+1]=e&255,r+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,4,4294967295,0),this[r+3]=e>>>24,this[r+2]=e>>>16,this[r+1]=e>>>8,this[r]=e&255,r+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,4,4294967295,0),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4};function Y(t,e,r,i,p){b(e,i,p,t,r,7);let I=Number(e&BigInt(4294967295));t[r++]=I,I=I>>8,t[r++]=I,I=I>>8,t[r++]=I,I=I>>8,t[r++]=I;let B=Number(e>>BigInt(32)&BigInt(4294967295));return t[r++]=B,B=B>>8,t[r++]=B,B=B>>8,t[r++]=B,B=B>>8,t[r++]=B,r}function ee(t,e,r,i,p){b(e,i,p,t,r,7);let I=Number(e&BigInt(4294967295));t[r+7]=I,I=I>>8,t[r+6]=I,I=I>>8,t[r+5]=I,I=I>>8,t[r+4]=I;let B=Number(e>>BigInt(32)&BigInt(4294967295));return t[r+3]=B,B=B>>8,t[r+2]=B,B=B>>8,t[r+1]=B,B=B>>8,t[r]=B,r+8}s.prototype.writeBigUInt64LE=de(function(e,r=0){return Y(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=de(function(e,r=0){return ee(this,e,r,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,r,i,p){if(e=+e,r=r>>>0,!p){const re=Math.pow(2,8*i-1);G(this,e,r,i,re-1,-re)}let I=0,B=1,W=0;for(this[r]=e&255;++I<i&&(B*=256);)e<0&&W===0&&this[r+I-1]!==0&&(W=1),this[r+I]=(e/B>>0)-W&255;return r+i},s.prototype.writeIntBE=function(e,r,i,p){if(e=+e,r=r>>>0,!p){const re=Math.pow(2,8*i-1);G(this,e,r,i,re-1,-re)}let I=i-1,B=1,W=0;for(this[r+I]=e&255;--I>=0&&(B*=256);)e<0&&W===0&&this[r+I+1]!==0&&(W=1),this[r+I]=(e/B>>0)-W&255;return r+i},s.prototype.writeInt8=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,1,127,-128),e<0&&(e=255+e+1),this[r]=e&255,r+1},s.prototype.writeInt16LE=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,2,32767,-32768),this[r]=e&255,this[r+1]=e>>>8,r+2},s.prototype.writeInt16BE=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,2,32767,-32768),this[r]=e>>>8,this[r+1]=e&255,r+2},s.prototype.writeInt32LE=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,4,2147483647,-2147483648),this[r]=e&255,this[r+1]=e>>>8,this[r+2]=e>>>16,this[r+3]=e>>>24,r+4},s.prototype.writeInt32BE=function(e,r,i){return e=+e,r=r>>>0,i||G(this,e,r,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[r]=e>>>24,this[r+1]=e>>>16,this[r+2]=e>>>8,this[r+3]=e&255,r+4},s.prototype.writeBigInt64LE=de(function(e,r=0){return Y(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=de(function(e,r=0){return ee(this,e,r,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Z(t,e,r,i,p,I){if(r+i>t.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function fe(t,e,r,i,p){return e=+e,r=r>>>0,p||Z(t,e,r,4),a.write(t,e,r,i,23,4),r+4}s.prototype.writeFloatLE=function(e,r,i){return fe(this,e,r,!0,i)},s.prototype.writeFloatBE=function(e,r,i){return fe(this,e,r,!1,i)};function Se(t,e,r,i,p){return e=+e,r=r>>>0,p||Z(t,e,r,8),a.write(t,e,r,i,52,8),r+8}s.prototype.writeDoubleLE=function(e,r,i){return Se(this,e,r,!0,i)},s.prototype.writeDoubleBE=function(e,r,i){return Se(this,e,r,!1,i)},s.prototype.copy=function(e,r,i,p){if(!s.isBuffer(e))throw new TypeError("argument should be a Buffer");if(i||(i=0),!p&&p!==0&&(p=this.length),r>=e.length&&(r=e.length),r||(r=0),p>0&&p<i&&(p=i),p===i||e.length===0||this.length===0)return 0;if(r<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("sourceEnd out of bounds");p>this.length&&(p=this.length),e.length-r<p-i&&(p=e.length-r+i);const I=p-i;return this===e&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(r,i,p):Uint8Array.prototype.set.call(e,this.subarray(i,p),r),I},s.prototype.fill=function(e,r,i,p){if(typeof e=="string"){if(typeof r=="string"?(p=r,r=0,i=this.length):typeof i=="string"&&(p=i,i=this.length),p!==void 0&&typeof p!="string")throw new TypeError("encoding must be a string");if(typeof p=="string"&&!s.isEncoding(p))throw new TypeError("Unknown encoding: "+p);if(e.length===1){const B=e.charCodeAt(0);(p==="utf8"&&B<128||p==="latin1")&&(e=B)}}else typeof e=="number"?e=e&255:typeof e=="boolean"&&(e=Number(e));if(r<0||this.length<r||this.length<i)throw new RangeError("Out of range index");if(i<=r)return this;r=r>>>0,i=i===void 0?this.length:i>>>0,e||(e=0);let I;if(typeof e=="number")for(I=r;I<i;++I)this[I]=e;else{const B=s.isBuffer(e)?e:s.from(e,p),W=B.length;if(W===0)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(I=0;I<i-r;++I)this[I+r]=B[I%W]}return this};const pe={};function Ee(t,e,r){pe[t]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:e.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${t}]`,this.stack,delete this.name}get code(){return t}set code(p){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:p,writable:!0})}toString(){return`${this.name} [${t}]: ${this.message}`}}}Ee("ERR_BUFFER_OUT_OF_BOUNDS",function(t){return t?`${t} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Ee("ERR_INVALID_ARG_TYPE",function(t,e){return`The "${t}" argument must be of type number. Received type ${typeof e}`},TypeError),Ee("ERR_OUT_OF_RANGE",function(t,e,r){let i=`The value of "${t}" is out of range.`,p=r;return Number.isInteger(r)&&Math.abs(r)>2**32?p=Ie(String(r)):typeof r=="bigint"&&(p=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(p=Ie(p)),p+="n"),i+=` It must be ${e}. Received ${p}`,i},RangeError);function Ie(t){let e="",r=t.length;const i=t[0]==="-"?1:0;for(;r>=i+4;r-=3)e=`_${t.slice(r-3,r)}${e}`;return`${t.slice(0,r)}${e}`}function _e(t,e,r){k(e,"offset"),(t[e]===void 0||t[e+r]===void 0)&&H(e,t.length-(r+1))}function b(t,e,r,i,p,I){if(t>r||t<e){const B=typeof e=="bigint"?"n":"";let W;throw e===0||e===BigInt(0)?W=`>= 0${B} and < 2${B} ** ${(I+1)*8}${B}`:W=`>= -(2${B} ** ${(I+1)*8-1}${B}) and < 2 ** ${(I+1)*8-1}${B}`,new pe.ERR_OUT_OF_RANGE("value",W,t)}_e(i,p,I)}function k(t,e){if(typeof t!="number")throw new pe.ERR_INVALID_ARG_TYPE(e,"number",t)}function H(t,e,r){throw Math.floor(t)!==t?(k(t,r),new pe.ERR_OUT_OF_RANGE("offset","an integer",t)):e<0?new pe.ERR_BUFFER_OUT_OF_BOUNDS:new pe.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${e}`,t)}const ne=/[^+/0-9A-Za-z-_]/g;function se(t){if(t=t.split("=")[0],t=t.trim().replace(ne,""),t.length<2)return"";for(;t.length%4!==0;)t=t+"=";return t}function oe(t,e){e=e||1/0;let r;const i=t.length;let p=null;const I=[];for(let B=0;B<i;++B){if(r=t.charCodeAt(B),r>55295&&r<57344){if(!p){if(r>56319){(e-=3)>-1&&I.push(239,191,189);continue}else if(B+1===i){(e-=3)>-1&&I.push(239,191,189);continue}p=r;continue}if(r<56320){(e-=3)>-1&&I.push(239,191,189),p=r;continue}r=(p-55296<<10|r-56320)+65536}else p&&(e-=3)>-1&&I.push(239,191,189);if(p=null,r<128){if((e-=1)<0)break;I.push(r)}else if(r<2048){if((e-=2)<0)break;I.push(r>>6|192,r&63|128)}else if(r<65536){if((e-=3)<0)break;I.push(r>>12|224,r>>6&63|128,r&63|128)}else if(r<1114112){if((e-=4)<0)break;I.push(r>>18|240,r>>12&63|128,r>>6&63|128,r&63|128)}else throw new Error("Invalid code point")}return I}function Kn(t){const e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r)&255);return e}function Jn(t,e){let r,i,p;const I=[];for(let B=0;B<t.length&&!((e-=2)<0);++B)r=t.charCodeAt(B),i=r>>8,p=r%256,I.push(p),I.push(i);return I}function ut(t){return c.toByteArray(se(t))}function Re(t,e,r,i){let p;for(p=0;p<i&&!(p+r>=e.length||p>=t.length);++p)e[p+r]=t[p];return p}function ce(t,e){return t instanceof e||t!=null&&t.constructor!=null&&t.constructor.name!=null&&t.constructor.name===e.name}function Fe(t){return t!==t}const Wn=function(){const t="0123456789abcdef",e=new Array(256);for(let r=0;r<16;++r){const i=r*16;for(let p=0;p<16;++p)e[i+p]=t[r]+t[p]}return e}();function de(t){return typeof BigInt>"u"?Yn:t}function Yn(){throw new Error("BigInt not supported")}}(Pe)),Pe}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var ht;function ge(){return ht||(ht=1,function(o,c){var a=xe(),u=a.Buffer;function f(l,s){for(var d in l)s[d]=l[d]}u.from&&u.alloc&&u.allocUnsafe&&u.allocUnsafeSlow?o.exports=a:(f(a,c),c.Buffer=m);function m(l,s,d){return u(l,s,d)}m.prototype=Object.create(u.prototype),f(u,m),m.from=function(l,s,d){if(typeof l=="number")throw new TypeError("Argument must not be a number");return u(l,s,d)},m.alloc=function(l,s,d){if(typeof l!="number")throw new TypeError("Argument must be a number");var x=u(l);return s!==void 0?typeof d=="string"?x.fill(s,d):x.fill(s):x.fill(0),x},m.allocUnsafe=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return u(l)},m.allocUnsafeSlow=function(l){if(typeof l!="number")throw new TypeError("Argument must be a number");return a.SlowBuffer(l)}}(Ae,Ae.exports)),Ae.exports}var qe,pt;function Fn(){if(pt)return qe;pt=1;var o=ge().Buffer,c=le,a=le;function u(f){if(this.buffer=null,this.writable=!0,this.readable=!0,!f)return this.buffer=o.alloc(0),this;if(typeof f.pipe=="function")return this.buffer=o.alloc(0),f.pipe(this),this;if(f.length||typeof f=="object")return this.buffer=f,this.writable=!1,process.nextTick((function(){this.emit("end",f),this.readable=!1,this.emit("close")}).bind(this)),this;throw new TypeError("Unexpected data type ("+typeof f+")")}return a.inherits(u,c),u.prototype.write=function(m){this.buffer=o.concat([this.buffer,o.from(m)]),this.emit("data",m)},u.prototype.end=function(m){m&&this.write(m),this.emit("end",m),this.emit("close"),this.writable=!1,this.readable=!1},qe=u,qe}var Ce,dt;function ni(){if(dt)return Ce;dt=1;var o=xe().Buffer,c=xe().SlowBuffer;Ce=a;function a(m,l){if(!o.isBuffer(m)||!o.isBuffer(l)||m.length!==l.length)return!1;for(var s=0,d=0;d<m.length;d++)s|=m[d]^l[d];return s===0}a.install=function(){o.prototype.equal=c.prototype.equal=function(l){return a(this,l)}};var u=o.prototype.equal,f=c.prototype.equal;return a.restore=function(){o.prototype.equal=u,c.prototype.equal=f},Ce}var je,mt;function ii(){if(mt)return je;mt=1;function o(u){var f=(u/8|0)+(u%8===0?0:1);return f}var c={ES256:o(256),ES384:o(384),ES512:o(521)};function a(u){var f=c[u];if(f)return f;throw new Error('Unknown algorithm "'+u+'"')}return je=a,je}var Ue,Et;function si(){if(Et)return Ue;Et=1;var o=ge().Buffer,c=ii(),a=128,u=0,f=32,m=16,l=2,s=m|f|u<<6,d=l|u<<6;function x(S){return S.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function n(S){if(o.isBuffer(S))return S;if(typeof S=="string")return o.from(S,"base64");throw new TypeError("ECDSA signature must be a Base64 string or a Buffer")}function h(S,R){S=n(S);var O=c(R),E=O+1,v=S.length,w=0;if(S[w++]!==s)throw new Error('Could not find expected "seq"');var $=S[w++];if($===(a|1)&&($=S[w++]),v-w<$)throw new Error('"seq" specified length of "'+$+'", only "'+(v-w)+'" remaining');if(S[w++]!==d)throw new Error('Could not find expected "int" for "r"');var q=S[w++];if(v-w-2<q)throw new Error('"r" specified length of "'+q+'", only "'+(v-w-2)+'" available');if(E<q)throw new Error('"r" specified length of "'+q+'", max of "'+E+'" is acceptable');var N=w;if(w+=q,S[w++]!==d)throw new Error('Could not find expected "int" for "s"');var C=S[w++];if(v-w!==C)throw new Error('"s" specified length of "'+C+'", expected "'+(v-w)+'"');if(E<C)throw new Error('"s" specified length of "'+C+'", max of "'+E+'" is acceptable');var L=w;if(w+=C,w!==v)throw new Error('Expected to consume entire buffer, but "'+(v-w)+'" bytes remain');var D=O-q,K=O-C,J=o.allocUnsafe(D+q+K+C);for(w=0;w<D;++w)J[w]=0;S.copy(J,w,N+Math.max(-D,0),N+q),w=O;for(var F=w;w<F+K;++w)J[w]=0;return S.copy(J,w,L+Math.max(-K,0),L+C),J=J.toString("base64"),J=x(J),J}function y(S,R,O){for(var E=0;R+E<O&&S[R+E]===0;)++E;var v=S[R+E]>=a;return v&&--E,E}function g(S,R){S=n(S);var O=c(R),E=S.length;if(E!==O*2)throw new TypeError('"'+R+'" signatures must be "'+O*2+'" bytes, saw "'+E+'"');var v=y(S,0,O),w=y(S,O,S.length),$=O-v,q=O-w,N=2+$+1+1+q,C=N<a,L=o.allocUnsafe((C?2:3)+N),D=0;return L[D++]=s,C?L[D++]=N:(L[D++]=a|1,L[D++]=N&255),L[D++]=d,L[D++]=$,v<0?(L[D++]=0,D+=S.copy(L,D,0,O)):D+=S.copy(L,D,v,O),L[D++]=d,L[D++]=q,w<0?(L[D++]=0,S.copy(L,D,O)):S.copy(L,D,O+w),L}return Ue={derToJose:h,joseToDer:g},Ue}var De,yt;function Pn(){if(yt)return De;yt=1;var o=ni(),c=ge().Buffer,a=le,u=si(),f=le,m=`"%s" is not a valid algorithm.
  Supported algorithms are:
  "HS256", "HS384", "HS512", "RS256", "RS384", "RS512", "PS256", "PS384", "PS512", "ES256", "ES384", "ES512" and "none".`,l="secret must be a string or buffer",s="key must be a string or a buffer",d="key must be a string, a buffer or an object",x=typeof a.createPublicKey=="function";x&&(s+=" or a KeyObject",l+="or a KeyObject");function n(F){if(!c.isBuffer(F)&&typeof F!="string"&&(!x||typeof F!="object"||typeof F.type!="string"||typeof F.asymmetricKeyType!="string"||typeof F.export!="function"))throw R(s)}function h(F){if(!c.isBuffer(F)&&typeof F!="string"&&typeof F!="object")throw R(d)}function y(F){if(!c.isBuffer(F)){if(typeof F=="string")return F;if(!x||typeof F!="object"||F.type!=="secret"||typeof F.export!="function")throw R(l)}}function g(F){return F.replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function S(F){F=F.toString();var M=4-F.length%4;if(M!==4)for(var T=0;T<M;++T)F+="=";return F.replace(/\-/g,"+").replace(/_/g,"/")}function R(F){var M=[].slice.call(arguments,1),T=f.format.bind(f,F).apply(null,M);return new TypeError(T)}function O(F){return c.isBuffer(F)||typeof F=="string"}function E(F){return O(F)||(F=JSON.stringify(F)),F}function v(F){return function(T,A){y(A),T=E(T);var _=a.createHmac("sha"+F,A),P=(_.update(T),_.digest("base64"));return g(P)}}function w(F){return function(T,A,_){var P=v(F)(T,_);return o(c.from(A),c.from(P))}}function $(F){return function(T,A){h(A),T=E(T);var _=a.createSign("RSA-SHA"+F),P=(_.update(T),_.sign(A,"base64"));return g(P)}}function q(F){return function(T,A,_){n(_),T=E(T),A=S(A);var P=a.createVerify("RSA-SHA"+F);return P.update(T),P.verify(_,A,"base64")}}function N(F){return function(T,A){h(A),T=E(T);var _=a.createSign("RSA-SHA"+F),P=(_.update(T),_.sign({key:A,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},"base64"));return g(P)}}function C(F){return function(T,A,_){n(_),T=E(T),A=S(A);var P=a.createVerify("RSA-SHA"+F);return P.update(T),P.verify({key:_,padding:a.constants.RSA_PKCS1_PSS_PADDING,saltLength:a.constants.RSA_PSS_SALTLEN_DIGEST},A,"base64")}}function L(F){var M=$(F);return function(){var A=M.apply(null,arguments);return A=u.derToJose(A,"ES"+F),A}}function D(F){var M=q(F);return function(A,_,P){_=u.joseToDer(_,"ES"+F).toString("base64");var j=M(A,_,P);return j}}function K(){return function(){return""}}function J(){return function(M,T){return T===""}}return De=function(M){var T={hs:v,rs:$,ps:N,es:L,none:K},A={hs:w,rs:q,ps:C,es:D,none:J},_=M.match(/^(RS|PS|ES|HS)(256|384|512)$|^(none)$/i);if(!_)throw R(m,M);var P=(_[1]||_[3]).toLowerCase(),j=_[2];return{sign:T[P](j),verify:A[P](j)}},De}var Ge,gt;function qn(){if(gt)return Ge;gt=1;var o=xe().Buffer;return Ge=function(a){return typeof a=="string"?a:typeof a=="number"||o.isBuffer(a)?a.toString():JSON.stringify(a)},Ge}var ke,wt;function oi(){if(wt)return ke;wt=1;var o=ge().Buffer,c=Fn(),a=Pn(),u=le,f=qn(),m=le;function l(n,h){return o.from(n,h).toString("base64").replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function s(n,h,y){y=y||"utf8";var g=l(f(n),"binary"),S=l(f(h),y);return m.format("%s.%s",g,S)}function d(n){var h=n.header,y=n.payload,g=n.secret||n.privateKey,S=n.encoding,R=a(h.alg),O=s(h,y,S),E=R.sign(O,g);return m.format("%s.%s",O,E)}function x(n){var h=n.secret||n.privateKey||n.key,y=new c(h);this.readable=!0,this.header=n.header,this.encoding=n.encoding,this.secret=this.privateKey=this.key=y,this.payload=new c(n.payload),this.secret.once("close",(function(){!this.payload.writable&&this.readable&&this.sign()}).bind(this)),this.payload.once("close",(function(){!this.secret.writable&&this.readable&&this.sign()}).bind(this))}return m.inherits(x,u),x.prototype.sign=function(){try{var h=d({header:this.header,payload:this.payload.buffer,secret:this.secret.buffer,encoding:this.encoding});return this.emit("done",h),this.emit("data",h),this.emit("end"),this.readable=!1,h}catch(y){this.readable=!1,this.emit("error",y),this.emit("close")}},x.sign=d,ke=x,ke}var Me,St;function ai(){if(St)return Me;St=1;var o=ge().Buffer,c=Fn(),a=Pn(),u=le,f=qn(),m=le,l=/^[a-zA-Z0-9\-_]+?\.[a-zA-Z0-9\-_]+?\.([a-zA-Z0-9\-_]+)?$/;function s(E){return Object.prototype.toString.call(E)==="[object Object]"}function d(E){if(s(E))return E;try{return JSON.parse(E)}catch{return}}function x(E){var v=E.split(".",1)[0];return d(o.from(v,"base64").toString("binary"))}function n(E){return E.split(".",2).join(".")}function h(E){return E.split(".")[2]}function y(E,v){v=v||"utf8";var w=E.split(".")[1];return o.from(w,"base64").toString(v)}function g(E){return l.test(E)&&!!x(E)}function S(E,v,w){if(!v){var $=new Error("Missing algorithm parameter for jws.verify");throw $.code="MISSING_ALGORITHM",$}E=f(E);var q=h(E),N=n(E),C=a(v);return C.verify(N,q,w)}function R(E,v){if(v=v||{},E=f(E),!g(E))return null;var w=x(E);if(!w)return null;var $=y(E);return(w.typ==="JWT"||v.json)&&($=JSON.parse($,v.encoding)),{header:w,payload:$,signature:h(E)}}function O(E){E=E||{};var v=E.secret||E.publicKey||E.key,w=new c(v);this.readable=!0,this.algorithm=E.algorithm,this.encoding=E.encoding,this.secret=this.publicKey=this.key=w,this.signature=new c(E.signature),this.secret.once("close",(function(){!this.signature.writable&&this.readable&&this.verify()}).bind(this)),this.signature.once("close",(function(){!this.secret.writable&&this.readable&&this.verify()}).bind(this))}return m.inherits(O,u),O.prototype.verify=function(){try{var v=S(this.signature.buffer,this.algorithm,this.key.buffer),w=R(this.signature.buffer,this.encoding);return this.emit("done",v,w),this.emit("data",v),this.emit("end"),this.readable=!1,v}catch($){this.readable=!1,this.emit("error",$),this.emit("close")}},O.decode=R,O.isValid=g,O.verify=S,Me=O,Me}var It;function et(){if(It)return he;It=1;var o=oi(),c=ai(),a=["HS256","HS384","HS512","RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"];return he.ALGORITHMS=a,he.sign=o.sign,he.verify=c.verify,he.decode=c.decode,he.isValid=c.isValid,he.createSign=function(f){return new o(f)},he.createVerify=function(f){return new c(f)},he}var Ve,Rt;function Cn(){if(Rt)return Ve;Rt=1;var o=et();return Ve=function(c,a){a=a||{};var u=o.decode(c,a);if(!u)return null;var f=u.payload;if(typeof f=="string")try{var m=JSON.parse(f);m!==null&&typeof m=="object"&&(f=m)}catch{}return a.complete===!0?{header:u.header,payload:f,signature:u.signature}:f},Ve}var He,At;function Te(){if(At)return He;At=1;var o=function(c,a){Error.call(this,c),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),this.name="JsonWebTokenError",this.message=c,a&&(this.inner=a)};return o.prototype=Object.create(Error.prototype),o.prototype.constructor=o,He=o,He}var Xe,vt;function jn(){if(vt)return Xe;vt=1;var o=Te(),c=function(a,u){o.call(this,a),this.name="NotBeforeError",this.date=u};return c.prototype=Object.create(o.prototype),c.prototype.constructor=c,Xe=c,Xe}var Ke,bt;function Un(){if(bt)return Ke;bt=1;var o=Te(),c=function(a,u){o.call(this,a),this.name="TokenExpiredError",this.expiredAt=u};return c.prototype=Object.create(o.prototype),c.prototype.constructor=c,Ke=c,Ke}var Je,xt;function ui(){if(xt)return Je;xt=1;var o=1e3,c=o*60,a=c*60,u=a*24,f=u*7,m=u*365.25;Je=function(n,h){h=h||{};var y=typeof n;if(y==="string"&&n.length>0)return l(n);if(y==="number"&&isFinite(n))return h.long?d(n):s(n);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(n))};function l(n){if(n=String(n),!(n.length>100)){var h=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(n);if(h){var y=parseFloat(h[1]),g=(h[2]||"ms").toLowerCase();switch(g){case"years":case"year":case"yrs":case"yr":case"y":return y*m;case"weeks":case"week":case"w":return y*f;case"days":case"day":case"d":return y*u;case"hours":case"hour":case"hrs":case"hr":case"h":return y*a;case"minutes":case"minute":case"mins":case"min":case"m":return y*c;case"seconds":case"second":case"secs":case"sec":case"s":return y*o;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return y;default:return}}}}function s(n){var h=Math.abs(n);return h>=u?Math.round(n/u)+"d":h>=a?Math.round(n/a)+"h":h>=c?Math.round(n/c)+"m":h>=o?Math.round(n/o)+"s":n+"ms"}function d(n){var h=Math.abs(n);return h>=u?x(n,h,u,"day"):h>=a?x(n,h,a,"hour"):h>=c?x(n,h,c,"minute"):h>=o?x(n,h,o,"second"):n+" ms"}function x(n,h,y,g){var S=h>=y*1.5;return Math.round(n/y)+" "+g+(S?"s":"")}return Je}var We,Tt;function Dn(){if(Tt)return We;Tt=1;var o=ui();return We=function(c,a){var u=a||Math.floor(Date.now()/1e3);if(typeof c=="string"){var f=o(c);return typeof f>"u"?void 0:Math.floor(u+f/1e3)}else return typeof c=="number"?u+c:void 0},We}var be={exports:{}},Ye,Bt;function Be(){if(Bt)return Ye;Bt=1;const o="2.0.0",c=256,a=Number.MAX_SAFE_INTEGER||9007199254740991,u=16,f=c-6;return Ye={MAX_LENGTH:c,MAX_SAFE_COMPONENT_LENGTH:u,MAX_SAFE_BUILD_LENGTH:f,MAX_SAFE_INTEGER:a,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:o,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Ye}var ze,$t;function $e(){if($t)return ze;$t=1;var o={};return ze=typeof process=="object"&&o&&o.NODE_DEBUG&&/\bsemver\b/i.test(o.NODE_DEBUG)?(...a)=>console.error("SEMVER",...a):()=>{},ze}var Lt;function we(){return Lt||(Lt=1,function(o,c){const{MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:u,MAX_LENGTH:f}=Be(),m=$e();c=o.exports={};const l=c.re=[],s=c.safeRe=[],d=c.src=[],x=c.safeSrc=[],n=c.t={};let h=0;const y="[a-zA-Z0-9-]",g=[["\\s",1],["\\d",f],[y,u]],S=O=>{for(const[E,v]of g)O=O.split(`${E}*`).join(`${E}{0,${v}}`).split(`${E}+`).join(`${E}{1,${v}}`);return O},R=(O,E,v)=>{const w=S(E),$=h++;m(O,$,E),n[O]=$,d[$]=E,x[$]=w,l[$]=new RegExp(E,v?"g":void 0),s[$]=new RegExp(w,v?"g":void 0)};R("NUMERICIDENTIFIER","0|[1-9]\\d*"),R("NUMERICIDENTIFIERLOOSE","\\d+"),R("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${y}*`),R("MAINVERSION",`(${d[n.NUMERICIDENTIFIER]})\\.(${d[n.NUMERICIDENTIFIER]})\\.(${d[n.NUMERICIDENTIFIER]})`),R("MAINVERSIONLOOSE",`(${d[n.NUMERICIDENTIFIERLOOSE]})\\.(${d[n.NUMERICIDENTIFIERLOOSE]})\\.(${d[n.NUMERICIDENTIFIERLOOSE]})`),R("PRERELEASEIDENTIFIER",`(?:${d[n.NUMERICIDENTIFIER]}|${d[n.NONNUMERICIDENTIFIER]})`),R("PRERELEASEIDENTIFIERLOOSE",`(?:${d[n.NUMERICIDENTIFIERLOOSE]}|${d[n.NONNUMERICIDENTIFIER]})`),R("PRERELEASE",`(?:-(${d[n.PRERELEASEIDENTIFIER]}(?:\\.${d[n.PRERELEASEIDENTIFIER]})*))`),R("PRERELEASELOOSE",`(?:-?(${d[n.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${d[n.PRERELEASEIDENTIFIERLOOSE]})*))`),R("BUILDIDENTIFIER",`${y}+`),R("BUILD",`(?:\\+(${d[n.BUILDIDENTIFIER]}(?:\\.${d[n.BUILDIDENTIFIER]})*))`),R("FULLPLAIN",`v?${d[n.MAINVERSION]}${d[n.PRERELEASE]}?${d[n.BUILD]}?`),R("FULL",`^${d[n.FULLPLAIN]}$`),R("LOOSEPLAIN",`[v=\\s]*${d[n.MAINVERSIONLOOSE]}${d[n.PRERELEASELOOSE]}?${d[n.BUILD]}?`),R("LOOSE",`^${d[n.LOOSEPLAIN]}$`),R("GTLT","((?:<|>)?=?)"),R("XRANGEIDENTIFIERLOOSE",`${d[n.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),R("XRANGEIDENTIFIER",`${d[n.NUMERICIDENTIFIER]}|x|X|\\*`),R("XRANGEPLAIN",`[v=\\s]*(${d[n.XRANGEIDENTIFIER]})(?:\\.(${d[n.XRANGEIDENTIFIER]})(?:\\.(${d[n.XRANGEIDENTIFIER]})(?:${d[n.PRERELEASE]})?${d[n.BUILD]}?)?)?`),R("XRANGEPLAINLOOSE",`[v=\\s]*(${d[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[n.XRANGEIDENTIFIERLOOSE]})(?:\\.(${d[n.XRANGEIDENTIFIERLOOSE]})(?:${d[n.PRERELEASELOOSE]})?${d[n.BUILD]}?)?)?`),R("XRANGE",`^${d[n.GTLT]}\\s*${d[n.XRANGEPLAIN]}$`),R("XRANGELOOSE",`^${d[n.GTLT]}\\s*${d[n.XRANGEPLAINLOOSE]}$`),R("COERCEPLAIN",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?`),R("COERCE",`${d[n.COERCEPLAIN]}(?:$|[^\\d])`),R("COERCEFULL",d[n.COERCEPLAIN]+`(?:${d[n.PRERELEASE]})?(?:${d[n.BUILD]})?(?:$|[^\\d])`),R("COERCERTL",d[n.COERCE],!0),R("COERCERTLFULL",d[n.COERCEFULL],!0),R("LONETILDE","(?:~>?)"),R("TILDETRIM",`(\\s*)${d[n.LONETILDE]}\\s+`,!0),c.tildeTrimReplace="$1~",R("TILDE",`^${d[n.LONETILDE]}${d[n.XRANGEPLAIN]}$`),R("TILDELOOSE",`^${d[n.LONETILDE]}${d[n.XRANGEPLAINLOOSE]}$`),R("LONECARET","(?:\\^)"),R("CARETTRIM",`(\\s*)${d[n.LONECARET]}\\s+`,!0),c.caretTrimReplace="$1^",R("CARET",`^${d[n.LONECARET]}${d[n.XRANGEPLAIN]}$`),R("CARETLOOSE",`^${d[n.LONECARET]}${d[n.XRANGEPLAINLOOSE]}$`),R("COMPARATORLOOSE",`^${d[n.GTLT]}\\s*(${d[n.LOOSEPLAIN]})$|^$`),R("COMPARATOR",`^${d[n.GTLT]}\\s*(${d[n.FULLPLAIN]})$|^$`),R("COMPARATORTRIM",`(\\s*)${d[n.GTLT]}\\s*(${d[n.LOOSEPLAIN]}|${d[n.XRANGEPLAIN]})`,!0),c.comparatorTrimReplace="$1$2$3",R("HYPHENRANGE",`^\\s*(${d[n.XRANGEPLAIN]})\\s+-\\s+(${d[n.XRANGEPLAIN]})\\s*$`),R("HYPHENRANGELOOSE",`^\\s*(${d[n.XRANGEPLAINLOOSE]})\\s+-\\s+(${d[n.XRANGEPLAINLOOSE]})\\s*$`),R("STAR","(<|>)?=?\\s*\\*"),R("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),R("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(be,be.exports)),be.exports}var Ze,Nt;function rt(){if(Nt)return Ze;Nt=1;const o=Object.freeze({loose:!0}),c=Object.freeze({});return Ze=u=>u?typeof u!="object"?o:u:c,Ze}var Qe,Ot;function Gn(){if(Ot)return Qe;Ot=1;const o=/^[0-9]+$/,c=(u,f)=>{const m=o.test(u),l=o.test(f);return m&&l&&(u=+u,f=+f),u===f?0:m&&!l?-1:l&&!m?1:u<f?-1:1};return Qe={compareIdentifiers:c,rcompareIdentifiers:(u,f)=>c(f,u)},Qe}var er,_t;function ie(){if(_t)return er;_t=1;const o=$e(),{MAX_LENGTH:c,MAX_SAFE_INTEGER:a}=Be(),{safeRe:u,safeSrc:f,t:m}=we(),l=rt(),{compareIdentifiers:s}=Gn();class d{constructor(n,h){if(h=l(h),n instanceof d){if(n.loose===!!h.loose&&n.includePrerelease===!!h.includePrerelease)return n;n=n.version}else if(typeof n!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof n}".`);if(n.length>c)throw new TypeError(`version is longer than ${c} characters`);o("SemVer",n,h),this.options=h,this.loose=!!h.loose,this.includePrerelease=!!h.includePrerelease;const y=n.trim().match(h.loose?u[m.LOOSE]:u[m.FULL]);if(!y)throw new TypeError(`Invalid Version: ${n}`);if(this.raw=n,this.major=+y[1],this.minor=+y[2],this.patch=+y[3],this.major>a||this.major<0)throw new TypeError("Invalid major version");if(this.minor>a||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>a||this.patch<0)throw new TypeError("Invalid patch version");y[4]?this.prerelease=y[4].split(".").map(g=>{if(/^[0-9]+$/.test(g)){const S=+g;if(S>=0&&S<a)return S}return g}):this.prerelease=[],this.build=y[5]?y[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(n){if(o("SemVer.compare",this.version,this.options,n),!(n instanceof d)){if(typeof n=="string"&&n===this.version)return 0;n=new d(n,this.options)}return n.version===this.version?0:this.compareMain(n)||this.comparePre(n)}compareMain(n){return n instanceof d||(n=new d(n,this.options)),s(this.major,n.major)||s(this.minor,n.minor)||s(this.patch,n.patch)}comparePre(n){if(n instanceof d||(n=new d(n,this.options)),this.prerelease.length&&!n.prerelease.length)return-1;if(!this.prerelease.length&&n.prerelease.length)return 1;if(!this.prerelease.length&&!n.prerelease.length)return 0;let h=0;do{const y=this.prerelease[h],g=n.prerelease[h];if(o("prerelease compare",h,y,g),y===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(y===void 0)return-1;if(y===g)continue;return s(y,g)}while(++h)}compareBuild(n){n instanceof d||(n=new d(n,this.options));let h=0;do{const y=this.build[h],g=n.build[h];if(o("build compare",h,y,g),y===void 0&&g===void 0)return 0;if(g===void 0)return 1;if(y===void 0)return-1;if(y===g)continue;return s(y,g)}while(++h)}inc(n,h,y){if(n.startsWith("pre")){if(!h&&y===!1)throw new Error("invalid increment argument: identifier is empty");if(h){const g=new RegExp(`^${this.options.loose?f[m.PRERELEASELOOSE]:f[m.PRERELEASE]}$`),S=`-${h}`.match(g);if(!S||S[1]!==h)throw new Error(`invalid identifier: ${h}`)}}switch(n){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",h,y);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",h,y);break;case"prepatch":this.prerelease.length=0,this.inc("patch",h,y),this.inc("pre",h,y);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",h,y),this.inc("pre",h,y);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const g=Number(y)?1:0;if(this.prerelease.length===0)this.prerelease=[g];else{let S=this.prerelease.length;for(;--S>=0;)typeof this.prerelease[S]=="number"&&(this.prerelease[S]++,S=-2);if(S===-1){if(h===this.prerelease.join(".")&&y===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(g)}}if(h){let S=[h,g];y===!1&&(S=[h]),s(this.prerelease[0],h)===0?isNaN(this.prerelease[1])&&(this.prerelease=S):this.prerelease=S}break}default:throw new Error(`invalid increment argument: ${n}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return er=d,er}var rr,Ft;function me(){if(Ft)return rr;Ft=1;const o=ie();return rr=(a,u,f=!1)=>{if(a instanceof o)return a;try{return new o(a,u)}catch(m){if(!f)return null;throw m}},rr}var tr,Pt;function fi(){if(Pt)return tr;Pt=1;const o=me();return tr=(a,u)=>{const f=o(a,u);return f?f.version:null},tr}var nr,qt;function ci(){if(qt)return nr;qt=1;const o=me();return nr=(a,u)=>{const f=o(a.trim().replace(/^[=v]+/,""),u);return f?f.version:null},nr}var ir,Ct;function li(){if(Ct)return ir;Ct=1;const o=ie();return ir=(a,u,f,m,l)=>{typeof f=="string"&&(l=m,m=f,f=void 0);try{return new o(a instanceof o?a.version:a,f).inc(u,m,l).version}catch{return null}},ir}var sr,jt;function hi(){if(jt)return sr;jt=1;const o=me();return sr=(a,u)=>{const f=o(a,null,!0),m=o(u,null,!0),l=f.compare(m);if(l===0)return null;const s=l>0,d=s?f:m,x=s?m:f,n=!!d.prerelease.length;if(!!x.prerelease.length&&!n){if(!x.patch&&!x.minor)return"major";if(x.compareMain(d)===0)return x.minor&&!x.patch?"minor":"patch"}const y=n?"pre":"";return f.major!==m.major?y+"major":f.minor!==m.minor?y+"minor":f.patch!==m.patch?y+"patch":"prerelease"},sr}var or,Ut;function pi(){if(Ut)return or;Ut=1;const o=ie();return or=(a,u)=>new o(a,u).major,or}var ar,Dt;function di(){if(Dt)return ar;Dt=1;const o=ie();return ar=(a,u)=>new o(a,u).minor,ar}var ur,Gt;function mi(){if(Gt)return ur;Gt=1;const o=ie();return ur=(a,u)=>new o(a,u).patch,ur}var fr,kt;function Ei(){if(kt)return fr;kt=1;const o=me();return fr=(a,u)=>{const f=o(a,u);return f&&f.prerelease.length?f.prerelease:null},fr}var cr,Mt;function ae(){if(Mt)return cr;Mt=1;const o=ie();return cr=(a,u,f)=>new o(a,f).compare(new o(u,f)),cr}var lr,Vt;function yi(){if(Vt)return lr;Vt=1;const o=ae();return lr=(a,u,f)=>o(u,a,f),lr}var hr,Ht;function gi(){if(Ht)return hr;Ht=1;const o=ae();return hr=(a,u)=>o(a,u,!0),hr}var pr,Xt;function tt(){if(Xt)return pr;Xt=1;const o=ie();return pr=(a,u,f)=>{const m=new o(a,f),l=new o(u,f);return m.compare(l)||m.compareBuild(l)},pr}var dr,Kt;function wi(){if(Kt)return dr;Kt=1;const o=tt();return dr=(a,u)=>a.sort((f,m)=>o(f,m,u)),dr}var mr,Jt;function Si(){if(Jt)return mr;Jt=1;const o=tt();return mr=(a,u)=>a.sort((f,m)=>o(m,f,u)),mr}var Er,Wt;function Le(){if(Wt)return Er;Wt=1;const o=ae();return Er=(a,u,f)=>o(a,u,f)>0,Er}var yr,Yt;function nt(){if(Yt)return yr;Yt=1;const o=ae();return yr=(a,u,f)=>o(a,u,f)<0,yr}var gr,zt;function kn(){if(zt)return gr;zt=1;const o=ae();return gr=(a,u,f)=>o(a,u,f)===0,gr}var wr,Zt;function Mn(){if(Zt)return wr;Zt=1;const o=ae();return wr=(a,u,f)=>o(a,u,f)!==0,wr}var Sr,Qt;function it(){if(Qt)return Sr;Qt=1;const o=ae();return Sr=(a,u,f)=>o(a,u,f)>=0,Sr}var Ir,en;function st(){if(en)return Ir;en=1;const o=ae();return Ir=(a,u,f)=>o(a,u,f)<=0,Ir}var Rr,rn;function Vn(){if(rn)return Rr;rn=1;const o=kn(),c=Mn(),a=Le(),u=it(),f=nt(),m=st();return Rr=(s,d,x,n)=>{switch(d){case"===":return typeof s=="object"&&(s=s.version),typeof x=="object"&&(x=x.version),s===x;case"!==":return typeof s=="object"&&(s=s.version),typeof x=="object"&&(x=x.version),s!==x;case"":case"=":case"==":return o(s,x,n);case"!=":return c(s,x,n);case">":return a(s,x,n);case">=":return u(s,x,n);case"<":return f(s,x,n);case"<=":return m(s,x,n);default:throw new TypeError(`Invalid operator: ${d}`)}},Rr}var Ar,tn;function Ii(){if(tn)return Ar;tn=1;const o=ie(),c=me(),{safeRe:a,t:u}=we();return Ar=(m,l)=>{if(m instanceof o)return m;if(typeof m=="number"&&(m=String(m)),typeof m!="string")return null;l=l||{};let s=null;if(!l.rtl)s=m.match(l.includePrerelease?a[u.COERCEFULL]:a[u.COERCE]);else{const g=l.includePrerelease?a[u.COERCERTLFULL]:a[u.COERCERTL];let S;for(;(S=g.exec(m))&&(!s||s.index+s[0].length!==m.length);)(!s||S.index+S[0].length!==s.index+s[0].length)&&(s=S),g.lastIndex=S.index+S[1].length+S[2].length;g.lastIndex=-1}if(s===null)return null;const d=s[2],x=s[3]||"0",n=s[4]||"0",h=l.includePrerelease&&s[5]?`-${s[5]}`:"",y=l.includePrerelease&&s[6]?`+${s[6]}`:"";return c(`${d}.${x}.${n}${h}${y}`,l)},Ar}var vr,nn;function Ri(){if(nn)return vr;nn=1;class o{constructor(){this.max=1e3,this.map=new Map}get(a){const u=this.map.get(a);if(u!==void 0)return this.map.delete(a),this.map.set(a,u),u}delete(a){return this.map.delete(a)}set(a,u){if(!this.delete(a)&&u!==void 0){if(this.map.size>=this.max){const m=this.map.keys().next().value;this.delete(m)}this.map.set(a,u)}return this}}return vr=o,vr}var br,sn;function ue(){if(sn)return br;sn=1;const o=/\s+/g;class c{constructor(A,_){if(_=f(_),A instanceof c)return A.loose===!!_.loose&&A.includePrerelease===!!_.includePrerelease?A:new c(A.raw,_);if(A instanceof m)return this.raw=A.value,this.set=[[A]],this.formatted=void 0,this;if(this.options=_,this.loose=!!_.loose,this.includePrerelease=!!_.includePrerelease,this.raw=A.trim().replace(o," "),this.set=this.raw.split("||").map(P=>this.parseRange(P.trim())).filter(P=>P.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const P=this.set[0];if(this.set=this.set.filter(j=>!R(j[0])),this.set.length===0)this.set=[P];else if(this.set.length>1){for(const j of this.set)if(j.length===1&&O(j[0])){this.set=[j];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let A=0;A<this.set.length;A++){A>0&&(this.formatted+="||");const _=this.set[A];for(let P=0;P<_.length;P++)P>0&&(this.formatted+=" "),this.formatted+=_[P].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(A){const P=((this.options.includePrerelease&&g)|(this.options.loose&&S))+":"+A,j=u.get(P);if(j)return j;const U=this.options.loose,X=U?d[x.HYPHENRANGELOOSE]:d[x.HYPHENRANGE];A=A.replace(X,F(this.options.includePrerelease)),l("hyphen replace",A),A=A.replace(d[x.COMPARATORTRIM],n),l("comparator trim",A),A=A.replace(d[x.TILDETRIM],h),l("tilde trim",A),A=A.replace(d[x.CARETTRIM],y),l("caret trim",A);let V=A.split(" ").map(Z=>v(Z,this.options)).join(" ").split(/\s+/).map(Z=>J(Z,this.options));U&&(V=V.filter(Z=>(l("loose invalid filter",Z,this.options),!!Z.match(d[x.COMPARATORLOOSE])))),l("range list",V);const G=new Map,Y=V.map(Z=>new m(Z,this.options));for(const Z of Y){if(R(Z))return[Z];G.set(Z.value,Z)}G.size>1&&G.has("")&&G.delete("");const ee=[...G.values()];return u.set(P,ee),ee}intersects(A,_){if(!(A instanceof c))throw new TypeError("a Range is required");return this.set.some(P=>E(P,_)&&A.set.some(j=>E(j,_)&&P.every(U=>j.every(X=>U.intersects(X,_)))))}test(A){if(!A)return!1;if(typeof A=="string")try{A=new s(A,this.options)}catch{return!1}for(let _=0;_<this.set.length;_++)if(M(this.set[_],A,this.options))return!0;return!1}}br=c;const a=Ri(),u=new a,f=rt(),m=Ne(),l=$e(),s=ie(),{safeRe:d,t:x,comparatorTrimReplace:n,tildeTrimReplace:h,caretTrimReplace:y}=we(),{FLAG_INCLUDE_PRERELEASE:g,FLAG_LOOSE:S}=Be(),R=T=>T.value==="<0.0.0-0",O=T=>T.value==="",E=(T,A)=>{let _=!0;const P=T.slice();let j=P.pop();for(;_&&P.length;)_=P.every(U=>j.intersects(U,A)),j=P.pop();return _},v=(T,A)=>(l("comp",T,A),T=N(T,A),l("caret",T),T=$(T,A),l("tildes",T),T=L(T,A),l("xrange",T),T=K(T,A),l("stars",T),T),w=T=>!T||T.toLowerCase()==="x"||T==="*",$=(T,A)=>T.trim().split(/\s+/).map(_=>q(_,A)).join(" "),q=(T,A)=>{const _=A.loose?d[x.TILDELOOSE]:d[x.TILDE];return T.replace(_,(P,j,U,X,V)=>{l("tilde",T,P,j,U,X,V);let G;return w(j)?G="":w(U)?G=`>=${j}.0.0 <${+j+1}.0.0-0`:w(X)?G=`>=${j}.${U}.0 <${j}.${+U+1}.0-0`:V?(l("replaceTilde pr",V),G=`>=${j}.${U}.${X}-${V} <${j}.${+U+1}.0-0`):G=`>=${j}.${U}.${X} <${j}.${+U+1}.0-0`,l("tilde return",G),G})},N=(T,A)=>T.trim().split(/\s+/).map(_=>C(_,A)).join(" "),C=(T,A)=>{l("caret",T,A);const _=A.loose?d[x.CARETLOOSE]:d[x.CARET],P=A.includePrerelease?"-0":"";return T.replace(_,(j,U,X,V,G)=>{l("caret",T,j,U,X,V,G);let Y;return w(U)?Y="":w(X)?Y=`>=${U}.0.0${P} <${+U+1}.0.0-0`:w(V)?U==="0"?Y=`>=${U}.${X}.0${P} <${U}.${+X+1}.0-0`:Y=`>=${U}.${X}.0${P} <${+U+1}.0.0-0`:G?(l("replaceCaret pr",G),U==="0"?X==="0"?Y=`>=${U}.${X}.${V}-${G} <${U}.${X}.${+V+1}-0`:Y=`>=${U}.${X}.${V}-${G} <${U}.${+X+1}.0-0`:Y=`>=${U}.${X}.${V}-${G} <${+U+1}.0.0-0`):(l("no pr"),U==="0"?X==="0"?Y=`>=${U}.${X}.${V}${P} <${U}.${X}.${+V+1}-0`:Y=`>=${U}.${X}.${V}${P} <${U}.${+X+1}.0-0`:Y=`>=${U}.${X}.${V} <${+U+1}.0.0-0`),l("caret return",Y),Y})},L=(T,A)=>(l("replaceXRanges",T,A),T.split(/\s+/).map(_=>D(_,A)).join(" ")),D=(T,A)=>{T=T.trim();const _=A.loose?d[x.XRANGELOOSE]:d[x.XRANGE];return T.replace(_,(P,j,U,X,V,G)=>{l("xRange",T,P,j,U,X,V,G);const Y=w(U),ee=Y||w(X),Z=ee||w(V),fe=Z;return j==="="&&fe&&(j=""),G=A.includePrerelease?"-0":"",Y?j===">"||j==="<"?P="<0.0.0-0":P="*":j&&fe?(ee&&(X=0),V=0,j===">"?(j=">=",ee?(U=+U+1,X=0,V=0):(X=+X+1,V=0)):j==="<="&&(j="<",ee?U=+U+1:X=+X+1),j==="<"&&(G="-0"),P=`${j+U}.${X}.${V}${G}`):ee?P=`>=${U}.0.0${G} <${+U+1}.0.0-0`:Z&&(P=`>=${U}.${X}.0${G} <${U}.${+X+1}.0-0`),l("xRange return",P),P})},K=(T,A)=>(l("replaceStars",T,A),T.trim().replace(d[x.STAR],"")),J=(T,A)=>(l("replaceGTE0",T,A),T.trim().replace(d[A.includePrerelease?x.GTE0PRE:x.GTE0],"")),F=T=>(A,_,P,j,U,X,V,G,Y,ee,Z,fe)=>(w(P)?_="":w(j)?_=`>=${P}.0.0${T?"-0":""}`:w(U)?_=`>=${P}.${j}.0${T?"-0":""}`:X?_=`>=${_}`:_=`>=${_}${T?"-0":""}`,w(Y)?G="":w(ee)?G=`<${+Y+1}.0.0-0`:w(Z)?G=`<${Y}.${+ee+1}.0-0`:fe?G=`<=${Y}.${ee}.${Z}-${fe}`:T?G=`<${Y}.${ee}.${+Z+1}-0`:G=`<=${G}`,`${_} ${G}`.trim()),M=(T,A,_)=>{for(let P=0;P<T.length;P++)if(!T[P].test(A))return!1;if(A.prerelease.length&&!_.includePrerelease){for(let P=0;P<T.length;P++)if(l(T[P].semver),T[P].semver!==m.ANY&&T[P].semver.prerelease.length>0){const j=T[P].semver;if(j.major===A.major&&j.minor===A.minor&&j.patch===A.patch)return!0}return!1}return!0};return br}var xr,on;function Ne(){if(on)return xr;on=1;const o=Symbol("SemVer ANY");class c{static get ANY(){return o}constructor(n,h){if(h=a(h),n instanceof c){if(n.loose===!!h.loose)return n;n=n.value}n=n.trim().split(/\s+/).join(" "),l("comparator",n,h),this.options=h,this.loose=!!h.loose,this.parse(n),this.semver===o?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(n){const h=this.options.loose?u[f.COMPARATORLOOSE]:u[f.COMPARATOR],y=n.match(h);if(!y)throw new TypeError(`Invalid comparator: ${n}`);this.operator=y[1]!==void 0?y[1]:"",this.operator==="="&&(this.operator=""),y[2]?this.semver=new s(y[2],this.options.loose):this.semver=o}toString(){return this.value}test(n){if(l("Comparator.test",n,this.options.loose),this.semver===o||n===o)return!0;if(typeof n=="string")try{n=new s(n,this.options)}catch{return!1}return m(n,this.operator,this.semver,this.options)}intersects(n,h){if(!(n instanceof c))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new d(n.value,h).test(this.value):n.operator===""?n.value===""?!0:new d(this.value,h).test(n.semver):(h=a(h),h.includePrerelease&&(this.value==="<0.0.0-0"||n.value==="<0.0.0-0")||!h.includePrerelease&&(this.value.startsWith("<0.0.0")||n.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&n.operator.startsWith(">")||this.operator.startsWith("<")&&n.operator.startsWith("<")||this.semver.version===n.semver.version&&this.operator.includes("=")&&n.operator.includes("=")||m(this.semver,"<",n.semver,h)&&this.operator.startsWith(">")&&n.operator.startsWith("<")||m(this.semver,">",n.semver,h)&&this.operator.startsWith("<")&&n.operator.startsWith(">")))}}xr=c;const a=rt(),{safeRe:u,t:f}=we(),m=Vn(),l=$e(),s=ie(),d=ue();return xr}var Tr,an;function Oe(){if(an)return Tr;an=1;const o=ue();return Tr=(a,u,f)=>{try{u=new o(u,f)}catch{return!1}return u.test(a)},Tr}var Br,un;function Ai(){if(un)return Br;un=1;const o=ue();return Br=(a,u)=>new o(a,u).set.map(f=>f.map(m=>m.value).join(" ").trim().split(" ")),Br}var $r,fn;function vi(){if(fn)return $r;fn=1;const o=ie(),c=ue();return $r=(u,f,m)=>{let l=null,s=null,d=null;try{d=new c(f,m)}catch{return null}return u.forEach(x=>{d.test(x)&&(!l||s.compare(x)===-1)&&(l=x,s=new o(l,m))}),l},$r}var Lr,cn;function bi(){if(cn)return Lr;cn=1;const o=ie(),c=ue();return Lr=(u,f,m)=>{let l=null,s=null,d=null;try{d=new c(f,m)}catch{return null}return u.forEach(x=>{d.test(x)&&(!l||s.compare(x)===1)&&(l=x,s=new o(l,m))}),l},Lr}var Nr,ln;function xi(){if(ln)return Nr;ln=1;const o=ie(),c=ue(),a=Le();return Nr=(f,m)=>{f=new c(f,m);let l=new o("0.0.0");if(f.test(l)||(l=new o("0.0.0-0"),f.test(l)))return l;l=null;for(let s=0;s<f.set.length;++s){const d=f.set[s];let x=null;d.forEach(n=>{const h=new o(n.semver.version);switch(n.operator){case">":h.prerelease.length===0?h.patch++:h.prerelease.push(0),h.raw=h.format();case"":case">=":(!x||a(h,x))&&(x=h);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${n.operator}`)}}),x&&(!l||a(l,x))&&(l=x)}return l&&f.test(l)?l:null},Nr}var Or,hn;function Ti(){if(hn)return Or;hn=1;const o=ue();return Or=(a,u)=>{try{return new o(a,u).range||"*"}catch{return null}},Or}var _r,pn;function ot(){if(pn)return _r;pn=1;const o=ie(),c=Ne(),{ANY:a}=c,u=ue(),f=Oe(),m=Le(),l=nt(),s=st(),d=it();return _r=(n,h,y,g)=>{n=new o(n,g),h=new u(h,g);let S,R,O,E,v;switch(y){case">":S=m,R=s,O=l,E=">",v=">=";break;case"<":S=l,R=d,O=m,E="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(f(n,h,g))return!1;for(let w=0;w<h.set.length;++w){const $=h.set[w];let q=null,N=null;if($.forEach(C=>{C.semver===a&&(C=new c(">=0.0.0")),q=q||C,N=N||C,S(C.semver,q.semver,g)?q=C:O(C.semver,N.semver,g)&&(N=C)}),q.operator===E||q.operator===v||(!N.operator||N.operator===E)&&R(n,N.semver))return!1;if(N.operator===v&&O(n,N.semver))return!1}return!0},_r}var Fr,dn;function Bi(){if(dn)return Fr;dn=1;const o=ot();return Fr=(a,u,f)=>o(a,u,">",f),Fr}var Pr,mn;function $i(){if(mn)return Pr;mn=1;const o=ot();return Pr=(a,u,f)=>o(a,u,"<",f),Pr}var qr,En;function Li(){if(En)return qr;En=1;const o=ue();return qr=(a,u,f)=>(a=new o(a,f),u=new o(u,f),a.intersects(u,f)),qr}var Cr,yn;function Ni(){if(yn)return Cr;yn=1;const o=Oe(),c=ae();return Cr=(a,u,f)=>{const m=[];let l=null,s=null;const d=a.sort((y,g)=>c(y,g,f));for(const y of d)o(y,u,f)?(s=y,l||(l=y)):(s&&m.push([l,s]),s=null,l=null);l&&m.push([l,null]);const x=[];for(const[y,g]of m)y===g?x.push(y):!g&&y===d[0]?x.push("*"):g?y===d[0]?x.push(`<=${g}`):x.push(`${y} - ${g}`):x.push(`>=${y}`);const n=x.join(" || "),h=typeof u.raw=="string"?u.raw:String(u);return n.length<h.length?n:u},Cr}var jr,gn;function Oi(){if(gn)return jr;gn=1;const o=ue(),c=Ne(),{ANY:a}=c,u=Oe(),f=ae(),m=(h,y,g={})=>{if(h===y)return!0;h=new o(h,g),y=new o(y,g);let S=!1;e:for(const R of h.set){for(const O of y.set){const E=d(R,O,g);if(S=S||E!==null,E)continue e}if(S)return!1}return!0},l=[new c(">=0.0.0-0")],s=[new c(">=0.0.0")],d=(h,y,g)=>{if(h===y)return!0;if(h.length===1&&h[0].semver===a){if(y.length===1&&y[0].semver===a)return!0;g.includePrerelease?h=l:h=s}if(y.length===1&&y[0].semver===a){if(g.includePrerelease)return!0;y=s}const S=new Set;let R,O;for(const L of h)L.operator===">"||L.operator===">="?R=x(R,L,g):L.operator==="<"||L.operator==="<="?O=n(O,L,g):S.add(L.semver);if(S.size>1)return null;let E;if(R&&O){if(E=f(R.semver,O.semver,g),E>0)return null;if(E===0&&(R.operator!==">="||O.operator!=="<="))return null}for(const L of S){if(R&&!u(L,String(R),g)||O&&!u(L,String(O),g))return null;for(const D of y)if(!u(L,String(D),g))return!1;return!0}let v,w,$,q,N=O&&!g.includePrerelease&&O.semver.prerelease.length?O.semver:!1,C=R&&!g.includePrerelease&&R.semver.prerelease.length?R.semver:!1;N&&N.prerelease.length===1&&O.operator==="<"&&N.prerelease[0]===0&&(N=!1);for(const L of y){if(q=q||L.operator===">"||L.operator===">=",$=$||L.operator==="<"||L.operator==="<=",R){if(C&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===C.major&&L.semver.minor===C.minor&&L.semver.patch===C.patch&&(C=!1),L.operator===">"||L.operator===">="){if(v=x(R,L,g),v===L&&v!==R)return!1}else if(R.operator===">="&&!u(R.semver,String(L),g))return!1}if(O){if(N&&L.semver.prerelease&&L.semver.prerelease.length&&L.semver.major===N.major&&L.semver.minor===N.minor&&L.semver.patch===N.patch&&(N=!1),L.operator==="<"||L.operator==="<="){if(w=n(O,L,g),w===L&&w!==O)return!1}else if(O.operator==="<="&&!u(O.semver,String(L),g))return!1}if(!L.operator&&(O||R)&&E!==0)return!1}return!(R&&$&&!O&&E!==0||O&&q&&!R&&E!==0||C||N)},x=(h,y,g)=>{if(!h)return y;const S=f(h.semver,y.semver,g);return S>0?h:S<0||y.operator===">"&&h.operator===">="?y:h},n=(h,y,g)=>{if(!h)return y;const S=f(h.semver,y.semver,g);return S<0?h:S>0||y.operator==="<"&&h.operator==="<="?y:h};return jr=m,jr}var Ur,wn;function at(){if(wn)return Ur;wn=1;const o=we(),c=Be(),a=ie(),u=Gn(),f=me(),m=fi(),l=ci(),s=li(),d=hi(),x=pi(),n=di(),h=mi(),y=Ei(),g=ae(),S=yi(),R=gi(),O=tt(),E=wi(),v=Si(),w=Le(),$=nt(),q=kn(),N=Mn(),C=it(),L=st(),D=Vn(),K=Ii(),J=Ne(),F=ue(),M=Oe(),T=Ai(),A=vi(),_=bi(),P=xi(),j=Ti(),U=ot(),X=Bi(),V=$i(),G=Li(),Y=Ni(),ee=Oi();return Ur={parse:f,valid:m,clean:l,inc:s,diff:d,major:x,minor:n,patch:h,prerelease:y,compare:g,rcompare:S,compareLoose:R,compareBuild:O,sort:E,rsort:v,gt:w,lt:$,eq:q,neq:N,gte:C,lte:L,cmp:D,coerce:K,Comparator:J,Range:F,satisfies:M,toComparators:T,maxSatisfying:A,minSatisfying:_,minVersion:P,validRange:j,outside:U,gtr:X,ltr:V,intersects:G,simplifyRange:Y,subset:ee,SemVer:a,re:o.re,src:o.src,tokens:o.t,SEMVER_SPEC_VERSION:c.SEMVER_SPEC_VERSION,RELEASE_TYPES:c.RELEASE_TYPES,compareIdentifiers:u.compareIdentifiers,rcompareIdentifiers:u.rcompareIdentifiers},Ur}var Dr,Sn;function _i(){return Sn||(Sn=1,Dr=at().satisfies(process.version,">=15.7.0")),Dr}var Gr,In;function Fi(){return In||(In=1,Gr=at().satisfies(process.version,">=16.9.0")),Gr}var kr,Rn;function Hn(){if(Rn)return kr;Rn=1;const o=_i(),c=Fi(),a={ec:["ES256","ES384","ES512"],rsa:["RS256","PS256","RS384","PS384","RS512","PS512"],"rsa-pss":["PS256","PS384","PS512"]},u={ES256:"prime256v1",ES384:"secp384r1",ES512:"secp521r1"};return kr=function(f,m){if(!f||!m)return;const l=m.asymmetricKeyType;if(!l)return;const s=a[l];if(!s)throw new Error(`Unknown key type "${l}".`);if(!s.includes(f))throw new Error(`"alg" parameter for "${l}" key type must be one of: ${s.join(", ")}.`);if(o)switch(l){case"ec":const d=m.asymmetricKeyDetails.namedCurve,x=u[f];if(d!==x)throw new Error(`"alg" parameter "${f}" requires curve "${x}".`);break;case"rsa-pss":if(c){const n=parseInt(f.slice(-3),10),{hashAlgorithm:h,mgf1HashAlgorithm:y,saltLength:g}=m.asymmetricKeyDetails;if(h!==`sha${n}`||y!==h)throw new Error(`Invalid key for this operation, its RSA-PSS parameters do not meet the requirements of "alg" ${f}.`);if(g!==void 0&&g>n>>3)throw new Error(`Invalid key for this operation, its RSA-PSS parameter saltLength does not meet the requirements of "alg" ${f}.`)}break}},kr}var Mr,An;function Xn(){if(An)return Mr;An=1;var o=at();return Mr=o.satisfies(process.version,"^6.12.0 || >=8.0.0"),Mr}var Vr,vn;function Pi(){if(vn)return Vr;vn=1;const o=Te(),c=jn(),a=Un(),u=Cn(),f=Dn(),m=Hn(),l=Xn(),s=et(),{KeyObject:d,createSecretKey:x,createPublicKey:n}=le,h=["RS256","RS384","RS512"],y=["ES256","ES384","ES512"],g=["RS256","RS384","RS512"],S=["HS256","HS384","HS512"];return l&&(h.splice(h.length,0,"PS256","PS384","PS512"),g.splice(g.length,0,"PS256","PS384","PS512")),Vr=function(R,O,E,v){typeof E=="function"&&!v&&(v=E,E={}),E||(E={}),E=Object.assign({},E);let w;if(v?w=v:w=function(D,K){if(D)throw D;return K},E.clockTimestamp&&typeof E.clockTimestamp!="number")return w(new o("clockTimestamp must be a number"));if(E.nonce!==void 0&&(typeof E.nonce!="string"||E.nonce.trim()===""))return w(new o("nonce must be a non-empty string"));if(E.allowInvalidAsymmetricKeyTypes!==void 0&&typeof E.allowInvalidAsymmetricKeyTypes!="boolean")return w(new o("allowInvalidAsymmetricKeyTypes must be a boolean"));const $=E.clockTimestamp||Math.floor(Date.now()/1e3);if(!R)return w(new o("jwt must be provided"));if(typeof R!="string")return w(new o("jwt must be a string"));const q=R.split(".");if(q.length!==3)return w(new o("jwt malformed"));let N;try{N=u(R,{complete:!0})}catch(D){return w(D)}if(!N)return w(new o("invalid token"));const C=N.header;let L;if(typeof O=="function"){if(!v)return w(new o("verify must be called asynchronous if secret or public key is provided as a callback"));L=O}else L=function(D,K){return K(null,O)};return L(C,function(D,K){if(D)return w(new o("error in secret or public key callback: "+D.message));const J=q[2].trim()!=="";if(!J&&K)return w(new o("jwt signature is required"));if(J&&!K)return w(new o("secret or public key must be provided"));if(!J&&!E.algorithms)return w(new o('please specify "none" in "algorithms" to verify unsigned tokens'));if(K!=null&&!(K instanceof d))try{K=n(K)}catch{try{K=x(typeof K=="string"?Buffer.from(K):K)}catch{return w(new o("secretOrPublicKey is not valid key material"))}}if(E.algorithms||(K.type==="secret"?E.algorithms=S:["rsa","rsa-pss"].includes(K.asymmetricKeyType)?E.algorithms=g:K.asymmetricKeyType==="ec"?E.algorithms=y:E.algorithms=h),E.algorithms.indexOf(N.header.alg)===-1)return w(new o("invalid algorithm"));if(C.alg.startsWith("HS")&&K.type!=="secret")return w(new o(`secretOrPublicKey must be a symmetric key when using ${C.alg}`));if(/^(?:RS|PS|ES)/.test(C.alg)&&K.type!=="public")return w(new o(`secretOrPublicKey must be an asymmetric key when using ${C.alg}`));if(!E.allowInvalidAsymmetricKeyTypes)try{m(C.alg,K)}catch(T){return w(T)}let F;try{F=s.verify(R,N.header.alg,K)}catch(T){return w(T)}if(!F)return w(new o("invalid signature"));const M=N.payload;if(typeof M.nbf<"u"&&!E.ignoreNotBefore){if(typeof M.nbf!="number")return w(new o("invalid nbf value"));if(M.nbf>$+(E.clockTolerance||0))return w(new c("jwt not active",new Date(M.nbf*1e3)))}if(typeof M.exp<"u"&&!E.ignoreExpiration){if(typeof M.exp!="number")return w(new o("invalid exp value"));if($>=M.exp+(E.clockTolerance||0))return w(new a("jwt expired",new Date(M.exp*1e3)))}if(E.audience){const T=Array.isArray(E.audience)?E.audience:[E.audience];if(!(Array.isArray(M.aud)?M.aud:[M.aud]).some(function(P){return T.some(function(j){return j instanceof RegExp?j.test(P):j===P})}))return w(new o("jwt audience invalid. expected: "+T.join(" or ")))}if(E.issuer&&(typeof E.issuer=="string"&&M.iss!==E.issuer||Array.isArray(E.issuer)&&E.issuer.indexOf(M.iss)===-1))return w(new o("jwt issuer invalid. expected: "+E.issuer));if(E.subject&&M.sub!==E.subject)return w(new o("jwt subject invalid. expected: "+E.subject));if(E.jwtid&&M.jti!==E.jwtid)return w(new o("jwt jwtid invalid. expected: "+E.jwtid));if(E.nonce&&M.nonce!==E.nonce)return w(new o("jwt nonce invalid. expected: "+E.nonce));if(E.maxAge){if(typeof M.iat!="number")return w(new o("iat required when maxAge is specified"));const T=f(E.maxAge,M.iat);if(typeof T>"u")return w(new o('"maxAge" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'));if($>=T+(E.clockTolerance||0))return w(new a("maxAge exceeded",new Date(T*1e3)))}if(E.complete===!0){const T=N.signature;return w(null,{header:C,payload:M,signature:T})}return w(null,M)})},Vr}var Hr,bn;function qi(){if(bn)return Hr;bn=1;var o=1/0,c=9007199254740991,a=17976931348623157e292,u=NaN,f="[object Arguments]",m="[object Function]",l="[object GeneratorFunction]",s="[object String]",d="[object Symbol]",x=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,y=/^0o[0-7]+$/i,g=/^(?:0|[1-9]\d*)$/,S=parseInt;function R(b,k){for(var H=-1,ne=b?b.length:0,se=Array(ne);++H<ne;)se[H]=k(b[H],H,b);return se}function O(b,k,H,ne){for(var se=b.length,oe=H+-1;++oe<se;)if(k(b[oe],oe,b))return oe;return-1}function E(b,k,H){if(k!==k)return O(b,v,H);for(var ne=H-1,se=b.length;++ne<se;)if(b[ne]===k)return ne;return-1}function v(b){return b!==b}function w(b,k){for(var H=-1,ne=Array(b);++H<b;)ne[H]=k(H);return ne}function $(b,k){return R(k,function(H){return b[H]})}function q(b,k){return function(H){return b(k(H))}}var N=Object.prototype,C=N.hasOwnProperty,L=N.toString,D=N.propertyIsEnumerable,K=q(Object.keys,Object),J=Math.max;function F(b,k){var H=j(b)||P(b)?w(b.length,String):[],ne=H.length,se=!!ne;for(var oe in b)C.call(b,oe)&&!(se&&(oe=="length"||T(oe,ne)))&&H.push(oe);return H}function M(b){if(!A(b))return K(b);var k=[];for(var H in Object(b))C.call(b,H)&&H!="constructor"&&k.push(H);return k}function T(b,k){return k=k??c,!!k&&(typeof b=="number"||g.test(b))&&b>-1&&b%1==0&&b<k}function A(b){var k=b&&b.constructor,H=typeof k=="function"&&k.prototype||N;return b===H}function _(b,k,H,ne){b=U(b)?b:_e(b),H=H&&!ne?pe(H):0;var se=b.length;return H<0&&(H=J(se+H,0)),Z(b)?H<=se&&b.indexOf(k,H)>-1:!!se&&E(b,k,H)>-1}function P(b){return X(b)&&C.call(b,"callee")&&(!D.call(b,"callee")||L.call(b)==f)}var j=Array.isArray;function U(b){return b!=null&&G(b.length)&&!V(b)}function X(b){return ee(b)&&U(b)}function V(b){var k=Y(b)?L.call(b):"";return k==m||k==l}function G(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=c}function Y(b){var k=typeof b;return!!b&&(k=="object"||k=="function")}function ee(b){return!!b&&typeof b=="object"}function Z(b){return typeof b=="string"||!j(b)&&ee(b)&&L.call(b)==s}function fe(b){return typeof b=="symbol"||ee(b)&&L.call(b)==d}function Se(b){if(!b)return b===0?b:0;if(b=Ee(b),b===o||b===-1/0){var k=b<0?-1:1;return k*a}return b===b?b:0}function pe(b){var k=Se(b),H=k%1;return k===k?H?k-H:k:0}function Ee(b){if(typeof b=="number")return b;if(fe(b))return u;if(Y(b)){var k=typeof b.valueOf=="function"?b.valueOf():b;b=Y(k)?k+"":k}if(typeof b!="string")return b===0?b:+b;b=b.replace(x,"");var H=h.test(b);return H||y.test(b)?S(b.slice(2),H?2:8):n.test(b)?u:+b}function Ie(b){return U(b)?F(b):M(b)}function _e(b){return b?$(b,Ie(b)):[]}return Hr=_,Hr}var Xr,xn;function Ci(){if(xn)return Xr;xn=1;var o="[object Boolean]",c=Object.prototype,a=c.toString;function u(m){return m===!0||m===!1||f(m)&&a.call(m)==o}function f(m){return!!m&&typeof m=="object"}return Xr=u,Xr}var Kr,Tn;function ji(){if(Tn)return Kr;Tn=1;var o=1/0,c=17976931348623157e292,a=NaN,u="[object Symbol]",f=/^\s+|\s+$/g,m=/^[-+]0x[0-9a-f]+$/i,l=/^0b[01]+$/i,s=/^0o[0-7]+$/i,d=parseInt,x=Object.prototype,n=x.toString;function h(v){return typeof v=="number"&&v==O(v)}function y(v){var w=typeof v;return!!v&&(w=="object"||w=="function")}function g(v){return!!v&&typeof v=="object"}function S(v){return typeof v=="symbol"||g(v)&&n.call(v)==u}function R(v){if(!v)return v===0?v:0;if(v=E(v),v===o||v===-1/0){var w=v<0?-1:1;return w*c}return v===v?v:0}function O(v){var w=R(v),$=w%1;return w===w?$?w-$:w:0}function E(v){if(typeof v=="number")return v;if(S(v))return a;if(y(v)){var w=typeof v.valueOf=="function"?v.valueOf():v;v=y(w)?w+"":w}if(typeof v!="string")return v===0?v:+v;v=v.replace(f,"");var $=l.test(v);return $||s.test(v)?d(v.slice(2),$?2:8):m.test(v)?a:+v}return Kr=h,Kr}var Jr,Bn;function Ui(){if(Bn)return Jr;Bn=1;var o="[object Number]",c=Object.prototype,a=c.toString;function u(m){return!!m&&typeof m=="object"}function f(m){return typeof m=="number"||u(m)&&a.call(m)==o}return Jr=f,Jr}var Wr,$n;function Di(){if($n)return Wr;$n=1;var o="[object Object]";function c(y){var g=!1;if(y!=null&&typeof y.toString!="function")try{g=!!(y+"")}catch{}return g}function a(y,g){return function(S){return y(g(S))}}var u=Function.prototype,f=Object.prototype,m=u.toString,l=f.hasOwnProperty,s=m.call(Object),d=f.toString,x=a(Object.getPrototypeOf,Object);function n(y){return!!y&&typeof y=="object"}function h(y){if(!n(y)||d.call(y)!=o||c(y))return!1;var g=x(y);if(g===null)return!0;var S=l.call(g,"constructor")&&g.constructor;return typeof S=="function"&&S instanceof S&&m.call(S)==s}return Wr=h,Wr}var Yr,Ln;function Gi(){if(Ln)return Yr;Ln=1;var o="[object String]",c=Object.prototype,a=c.toString,u=Array.isArray;function f(l){return!!l&&typeof l=="object"}function m(l){return typeof l=="string"||!u(l)&&f(l)&&a.call(l)==o}return Yr=m,Yr}var zr,Nn;function ki(){if(Nn)return zr;Nn=1;var o="Expected a function",c=1/0,a=17976931348623157e292,u=NaN,f="[object Symbol]",m=/^\s+|\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,d=/^0o[0-7]+$/i,x=parseInt,n=Object.prototype,h=n.toString;function y($,q){var N;if(typeof q!="function")throw new TypeError(o);return $=v($),function(){return--$>0&&(N=q.apply(this,arguments)),$<=1&&(q=void 0),N}}function g($){return y(2,$)}function S($){var q=typeof $;return!!$&&(q=="object"||q=="function")}function R($){return!!$&&typeof $=="object"}function O($){return typeof $=="symbol"||R($)&&h.call($)==f}function E($){if(!$)return $===0?$:0;if($=w($),$===c||$===-1/0){var q=$<0?-1:1;return q*a}return $===$?$:0}function v($){var q=E($),N=q%1;return q===q?N?q-N:q:0}function w($){if(typeof $=="number")return $;if(O($))return u;if(S($)){var q=typeof $.valueOf=="function"?$.valueOf():$;$=S(q)?q+"":q}if(typeof $!="string")return $===0?$:+$;$=$.replace(m,"");var N=s.test($);return N||d.test($)?x($.slice(2),N?2:8):l.test($)?u:+$}return zr=g,zr}var Zr,On;function Mi(){if(On)return Zr;On=1;const o=Dn(),c=Xn(),a=Hn(),u=et(),f=qi(),m=Ci(),l=ji(),s=Ui(),d=Di(),x=Gi(),n=ki(),{KeyObject:h,createSecretKey:y,createPrivateKey:g}=le,S=["RS256","RS384","RS512","ES256","ES384","ES512","HS256","HS384","HS512","none"];c&&S.splice(3,0,"PS256","PS384","PS512");const R={expiresIn:{isValid:function(N){return l(N)||x(N)&&N},message:'"expiresIn" should be a number of seconds or string representing a timespan'},notBefore:{isValid:function(N){return l(N)||x(N)&&N},message:'"notBefore" should be a number of seconds or string representing a timespan'},audience:{isValid:function(N){return x(N)||Array.isArray(N)},message:'"audience" must be a string or array'},algorithm:{isValid:f.bind(null,S),message:'"algorithm" must be a valid string enum value'},header:{isValid:d,message:'"header" must be an object'},encoding:{isValid:x,message:'"encoding" must be a string'},issuer:{isValid:x,message:'"issuer" must be a string'},subject:{isValid:x,message:'"subject" must be a string'},jwtid:{isValid:x,message:'"jwtid" must be a string'},noTimestamp:{isValid:m,message:'"noTimestamp" must be a boolean'},keyid:{isValid:x,message:'"keyid" must be a string'},mutatePayload:{isValid:m,message:'"mutatePayload" must be a boolean'},allowInsecureKeySizes:{isValid:m,message:'"allowInsecureKeySizes" must be a boolean'},allowInvalidAsymmetricKeyTypes:{isValid:m,message:'"allowInvalidAsymmetricKeyTypes" must be a boolean'}},O={iat:{isValid:s,message:'"iat" should be a number of seconds'},exp:{isValid:s,message:'"exp" should be a number of seconds'},nbf:{isValid:s,message:'"nbf" should be a number of seconds'}};function E(N,C,L,D){if(!d(L))throw new Error('Expected "'+D+'" to be a plain object.');Object.keys(L).forEach(function(K){const J=N[K];if(!J){if(!C)throw new Error('"'+K+'" is not allowed in "'+D+'"');return}if(!J.isValid(L[K]))throw new Error(J.message)})}function v(N){return E(R,!1,N,"options")}function w(N){return E(O,!0,N,"payload")}const $={audience:"aud",issuer:"iss",subject:"sub",jwtid:"jti"},q=["expiresIn","notBefore","noTimestamp","audience","issuer","subject","jwtid"];return Zr=function(N,C,L,D){typeof L=="function"?(D=L,L={}):L=L||{};const K=typeof N=="object"&&!Buffer.isBuffer(N),J=Object.assign({alg:L.algorithm||"HS256",typ:K?"JWT":void 0,kid:L.keyid},L.header);function F(A){if(D)return D(A);throw A}if(!C&&L.algorithm!=="none")return F(new Error("secretOrPrivateKey must have a value"));if(C!=null&&!(C instanceof h))try{C=g(C)}catch{try{C=y(typeof C=="string"?Buffer.from(C):C)}catch{return F(new Error("secretOrPrivateKey is not valid key material"))}}if(J.alg.startsWith("HS")&&C.type!=="secret")return F(new Error(`secretOrPrivateKey must be a symmetric key when using ${J.alg}`));if(/^(?:RS|PS|ES)/.test(J.alg)){if(C.type!=="private")return F(new Error(`secretOrPrivateKey must be an asymmetric key when using ${J.alg}`));if(!L.allowInsecureKeySizes&&!J.alg.startsWith("ES")&&C.asymmetricKeyDetails!==void 0&&C.asymmetricKeyDetails.modulusLength<2048)return F(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`))}if(typeof N>"u")return F(new Error("payload is required"));if(K){try{w(N)}catch(A){return F(A)}L.mutatePayload||(N=Object.assign({},N))}else{const A=q.filter(function(_){return typeof L[_]<"u"});if(A.length>0)return F(new Error("invalid "+A.join(",")+" option for "+typeof N+" payload"))}if(typeof N.exp<"u"&&typeof L.expiresIn<"u")return F(new Error('Bad "options.expiresIn" option the payload already has an "exp" property.'));if(typeof N.nbf<"u"&&typeof L.notBefore<"u")return F(new Error('Bad "options.notBefore" option the payload already has an "nbf" property.'));try{v(L)}catch(A){return F(A)}if(!L.allowInvalidAsymmetricKeyTypes)try{a(J.alg,C)}catch(A){return F(A)}const M=N.iat||Math.floor(Date.now()/1e3);if(L.noTimestamp?delete N.iat:K&&(N.iat=M),typeof L.notBefore<"u"){try{N.nbf=o(L.notBefore,M)}catch(A){return F(A)}if(typeof N.nbf>"u")return F(new Error('"notBefore" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}if(typeof L.expiresIn<"u"&&typeof N=="object"){try{N.exp=o(L.expiresIn,M)}catch(A){return F(A)}if(typeof N.exp>"u")return F(new Error('"expiresIn" should be a number of seconds or string representing a timespan eg: "1d", "20h", 60'))}Object.keys($).forEach(function(A){const _=$[A];if(typeof L[A]<"u"){if(typeof N[_]<"u")return F(new Error('Bad "options.'+A+'" option. The payload already has an "'+_+'" property.'));N[_]=L[A]}});const T=L.encoding||"utf8";if(typeof D=="function")D=D&&n(D),u.createSign({header:J,privateKey:C,payload:N,encoding:T}).once("error",D).once("done",function(A){if(!L.allowInsecureKeySizes&&/^(?:RS|PS)/.test(J.alg)&&A.length<256)return D(new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`));D(null,A)});else{let A=u.sign({header:J,payload:N,secret:C,encoding:T});if(!L.allowInsecureKeySizes&&/^(?:RS|PS)/.test(J.alg)&&A.length<256)throw new Error(`secretOrPrivateKey has a minimum key size of 2048 bits for ${J.alg}`);return A}},Zr}var Qr,_n;function Vi(){return _n||(_n=1,Qr={decode:Cn(),verify:Pi(),sign:Mi(),JsonWebTokenError:Te(),NotBeforeError:jn(),TokenExpiredError:Un()}),Qr}var Hi=Vi();const Ji=Zn(Hi);export{Ji as j,le as r};
